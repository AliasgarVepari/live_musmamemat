import{u as C,r as x,j as e,H as N,L as h}from"./app-x7miKmXv.js";import{B as m}from"./button-BYn-YIeP.js";import{C as _,a as E,b as F,d as w,c as L}from"./card-DZkxuG0f.js";import{F as S}from"./file-upload-Blozerev.js";import{I as u}from"./input-CkzWMEvu.js";import{I as o}from"./input-error-Wh8aXJqz.js";import{L as i}from"./label-CtRUZcQR.js";import{u as k}from"./use-error-handler-AO2sReRK.js";import{A,T as I}from"./app-layout-Dp-UlH9z.js";import{A as M}from"./arrow-left-DX48NuLl.js";import"./index-lE46B68x.js";import"./upload-CR9ZU0ch.js";import"./index-B7WxniRp.js";import"./index-CdJeR61V.js";import"./chevron-right-DNbnrrrX.js";import"./index-BySHk0Ux.js";import"./index-DW9AIAM8.js";import"./base-layout-DmnwzisE.js";/* empty css            */import"./use-forced-theme-CSfpsdtX.js";import"./settings-DDKKlKQp.js";import"./logo-DB6pQEXk.js";import"./map-pin-DZBTkjET.js";import"./crown-BXEFPuDe.js";const D=[{title:"Categories",href:"/admin/categories"},{title:"Create",href:"/admin/categories/create"}];function oe(){const{data:n,setData:t,post:v,processing:g,errors:s,reset:f}=C({name_en:"",name_ar:"",icon:null,status:"active",sort_order:""}),[l,p]=x.useState(null);k(),x.useEffect(()=>()=>{l&&URL.revokeObjectURL(URL.createObjectURL(l))},[l]);const j=(r,c)=>{const d=document.querySelector(".error-dialog-overlay");d&&d.remove();const a=document.createElement("div");a.className="error-dialog-overlay",a.innerHTML=`
            <div class="error-dialog-content">
                <div class="error-dialog-header">
                    <div class="flex items-center">
                        <div class="flex-shrink-0">
                            <svg class="error-dialog-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z" />
                            </svg>
                        </div>
                        <div class="error-dialog-title">${r}</div>
                    </div>
                    <div class="error-dialog-message">${c}</div>
                </div>
                <div class="error-dialog-footer p-6 pt-0">
                    <button 
                        onclick="this.closest('.error-dialog-overlay').remove()"
                        class="error-dialog-button"
                    >
                        OK
                    </button>
                </div>
            </div>
        `,document.body.appendChild(a),setTimeout(()=>{a.parentNode&&a.parentNode.removeChild(a)},1e4)},b=r=>{p(r),t("icon",r)},y=r=>{r.preventDefault(),v("/admin/categories",{forceFormData:!0,onSuccess:()=>{f(),p(null)},onError:c=>{const a=Object.values(c).flat().join(", ");j("Validation Error",a)}})};return e.jsx(A,{breadcrumbs:D,children:e.jsxs(e.Fragment,{children:[e.jsx(N,{title:"Create Category"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 overflow-x-auto rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(m,{variant:"ghost",size:"sm",asChild:!0,children:e.jsx(h,{href:"/admin/categories",children:e.jsx(M,{className:"h-4 w-4"})})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Create Category"}),e.jsx("p",{className:"text-muted-foreground",children:"Add a new product category"})]})]}),e.jsxs(_,{children:[e.jsxs(E,{children:[e.jsxs(F,{className:"flex items-center",children:[e.jsx(I,{className:"mr-2 h-5 w-5"}),"Category Information"]}),e.jsx(w,{children:"Enter the category details below"})]}),e.jsx(L,{children:e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"name_en",children:"English Name *"}),e.jsx(u,{id:"name_en",type:"text",value:n.name_en,onChange:r=>t("name_en",r.target.value),placeholder:"Enter category name in English",className:s.name_en?"border-destructive":""}),e.jsx(o,{message:s.name_en})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"name_ar",children:"Arabic Name *"}),e.jsx(u,{id:"name_ar",type:"text",value:n.name_ar,onChange:r=>t("name_ar",r.target.value),placeholder:"Enter category name in Arabic",className:s.name_ar?"border-destructive":""}),e.jsx(o,{message:s.name_ar})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"icon",children:"Category Icon (SVG only)"}),e.jsx(S,{onFileSelect:b,currentFile:l,accept:".svg,.svgz",maxSize:10,className:s.icon?"border-destructive":""}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Upload an SVG file for the category icon. Maximum size: 10MB"}),e.jsx(o,{message:s.icon})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"status",children:"Status *"}),e.jsxs("select",{id:"status",value:n.status,onChange:r=>t("status",r.target.value),className:"border-input bg-background ring-offset-background placeholder:text-muted-foreground focus-visible:ring-ring flex h-10 w-full rounded-md border px-3 py-2 text-sm file:border-0 file:bg-transparent file:text-sm file:font-medium focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]}),e.jsx(o,{message:s.status})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"sort_order",children:"Sort Order"}),e.jsx(u,{id:"sort_order",type:"number",value:n.sort_order,onChange:r=>t("sort_order",r.target.value),placeholder:"Enter sort order (1, 2, 3, 4...)",min:"1",className:s.sort_order?"border-destructive":""}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Optional. Categories with sort order 1-4 will appear on the home page. Must be unique."}),e.jsx(o,{message:s.sort_order})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx(m,{type:"button",variant:"outline",asChild:!0,children:e.jsx(h,{href:"/admin/categories",children:"Cancel"})}),e.jsx(m,{type:"submit",disabled:g,children:g?"Creating...":"Create Category"})]})]})})]})]})]})})}export{oe as default};
