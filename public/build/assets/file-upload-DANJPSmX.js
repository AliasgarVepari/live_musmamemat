import{r,j as e,c as j,X as O}from"./app-CYM3PNp1.js";import{U as E}from"./upload-_oxLuyQG.js";function B({onFileSelect:c,currentFile:d,currentUrl:y,accept:t=".svg,.svgz",maxSize:a=10,className:w,handleClientRemoveFile:x,label:b="Upload SVG icon",disabled:l=!1}){const[m,f]=r.useState(!1),[n,p]=r.useState(null),u=r.useCallback(s=>{if(s){const o=URL.createObjectURL(s);p(o)}else n&&URL.revokeObjectURL(n),p(null);c(s)},[c,n]),N=r.useCallback(s=>{s.preventDefault(),l||f(!0)},[l]),D=r.useCallback(s=>{s.preventDefault(),f(!1)},[]),C=r.useCallback(s=>{if(s.preventDefault(),f(!1),l)return;const i=Array.from(s.dataTransfer.files)[0];if(i){const g=i.name.toLowerCase().split(".").pop();if(!t.split(",").map(L=>L.replace(".","")).includes(g||"")){alert(`Invalid file type. Only ${t} files are allowed.`);return}if(i.size>a*1024*1024){alert(`File size must be less than ${a}MB.`);return}u(i)}},[t,a,u,l]),U=r.useCallback(s=>{const o=s.target.files?.[0]||null;if(o){const i=o.name.toLowerCase().split(".").pop();if(!t.split(",").map(v=>v.replace(".","")).includes(i||"")){alert(`Invalid file type. Only ${t} files are allowed.`),s.target.value="";return}if(o.size>a*1024*1024){alert(`File size must be less than ${a}MB.`),s.target.value="";return}}u(o),s.target.value=""},[t,a,u]),k=r.useCallback(s=>{s.preventDefault(),s.stopPropagation(),n&&URL.revokeObjectURL(n),p(null),c(null),x?.()},[n,c,x]),h=n||y;return e.jsx("div",{className:j("w-full",w),children:e.jsxs("div",{className:j("relative rounded-lg border-2 border-dashed p-6 transition-colors",m&&!l?"border-primary bg-primary/5":"border-gray-300 hover:border-gray-400",l&&"cursor-not-allowed opacity-50",!l&&"cursor-pointer"),onDragOver:N,onDragLeave:D,onDrop:C,children:[e.jsx("input",{type:"file",accept:t,onChange:U,className:"absolute inset-0 h-full w-full cursor-pointer opacity-0 disabled:cursor-not-allowed",disabled:l}),h?e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"bg-primary/10 flex h-20 w-20 items-center justify-center rounded-lg",children:e.jsx("img",{src:h,alt:"File preview",className:"h-16 w-16 object-contain"})}),!l&&e.jsx("button",{type:"button",onClick:k,className:"absolute -right-2 -top-2 z-10 rounded-full bg-red-500 p-1 text-white transition-colors hover:bg-red-600",children:e.jsx(O,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:d?.name||"Current file"}),e.jsx("p",{className:"text-xs text-gray-500",children:d?`${(d.size/1024/1024).toFixed(2)} MB`:"Click or drag to replace"})]})]}):e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-lg bg-gray-100",children:e.jsx(E,{className:"h-8 w-8 text-gray-400"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:m?"Drop the file here":b}),e.jsx("p",{className:"text-xs text-gray-500",children:"Drag and drop or click to select"}),e.jsxs("p",{className:"mt-1 text-xs text-gray-400",children:["Only ",t," files up to ",a,"MB"]})]})]})]})})}export{B as F};
