import{u as N,r as y,j as e,H as C,L as x,a as E}from"./app-bcMXV1OJ.js";import{B as u}from"./button-D1scBpDE.js";import{C as F,a as S,b as w,d as k,c as I}from"./card-BJb3k8Nk.js";import{F as L}from"./file-upload-DSLVuadm.js";import{I as p}from"./input-s7XVmUCV.js";import{I as n}from"./input-error-CwBUgGSf.js";import{L as l}from"./label-DYlhuL7T.js";import{u as M}from"./use-error-handler-Cp1JkyqP.js";import{A,T as U}from"./app-layout-HR9NJ7XJ.js";import{A as D}from"./arrow-left-fL-BG1eG.js";import"./index-CqBYegzF.js";import"./upload-DRjArimN.js";import"./index-C2pHj9Xm.js";import"./index-knIJ80NH.js";import"./chevron-right-B_EbPM8M.js";import"./index-CBAdP0ZU.js";import"./index-DW9AIAM8.js";import"./base-layout-DntJJ83k.js";/* empty css            */import"./use-forced-theme-D_hGoBMX.js";import"./settings-CTImYCXL.js";import"./logo-DB6pQEXk.js";import"./map-pin-DcmK9Q3x.js";import"./crown-BBCGlJuh.js";const z=[{title:"Categories",href:"/admin/categories"},{title:"Edit",href:"/admin/categories/edit"}];function le({category:o}){const{data:i,setData:s,post:H,processing:h,errors:t,reset:g}=N({name_en:o.name_en,name_ar:o.name_ar,icon:null,icon_url:o.icon_url,status:o.status,sort_order:o.sort_order?.toString()||"",remove_icon:!1}),[v,d]=y.useState(null);M();const f=(r,c)=>{const m=document.querySelector(".error-dialog-overlay");m&&m.remove();const a=document.createElement("div");a.className="error-dialog-overlay",a.innerHTML=`
            <div class="error-dialog-content">
                <div class="error-dialog-header">
                    <div class="flex items-center">
                        <div class="flex-shrink-0">
                            <svg class="error-dialog-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z" />
                            </svg>
                        </div>
                        <div class="error-dialog-title">${r}</div>
                    </div>
                    <div class="error-dialog-message">${c}</div>
                </div>
                <div class="error-dialog-footer p-6 pt-0">
                    <button 
                        onclick="this.closest('.error-dialog-overlay').remove()"
                        class="error-dialog-button"
                    >
                        OK
                    </button>
                </div>
            </div>
        `,document.body.appendChild(a),setTimeout(()=>{a.parentNode&&a.parentNode.removeChild(a)},1e4)},j=r=>{d(r),r?(s("remove_icon",!1),s("icon",r)):s("remove_icon",!0)},b=()=>{d(null),s("icon",null),s("remove_icon",!0)},_=r=>{r.preventDefault(),E.post(`/admin/categories/${o.id}`,{_method:"put",forceFormData:!0,...i},{onSuccess:()=>{g(),d(null)},onError:c=>{const a=Object.values(c).flat().join(", ");f("Validation Error",a)}})};return e.jsx(A,{breadcrumbs:z,children:e.jsxs(e.Fragment,{children:[e.jsx(C,{title:"Edit Category"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 overflow-x-auto rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(u,{variant:"ghost",size:"sm",asChild:!0,children:e.jsx(x,{href:"/admin/categories",children:e.jsx(D,{className:"h-4 w-4"})})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Edit Category"}),e.jsx("p",{className:"text-muted-foreground",children:"Update category information"})]})]}),e.jsxs(F,{children:[e.jsxs(S,{children:[e.jsxs(w,{className:"flex items-center",children:[e.jsx(U,{className:"mr-2 h-5 w-5"}),"Category Information"]}),e.jsx(k,{children:"Update the category details below"})]}),e.jsx(I,{children:e.jsxs("form",{onSubmit:_,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"name_en",children:"English Name *"}),e.jsx(p,{id:"name_en",type:"text",value:i.name_en,onChange:r=>s("name_en",r.target.value),placeholder:"Enter category name in English",className:t.name_en?"border-destructive":""}),e.jsx(n,{message:t.name_en})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"name_ar",children:"Arabic Name *"}),e.jsx(p,{id:"name_ar",type:"text",value:i.name_ar,onChange:r=>s("name_ar",r.target.value),placeholder:"Enter category name in Arabic",className:t.name_ar?"border-destructive":""}),e.jsx(n,{message:t.name_ar})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"icon",children:"Category Icon (SVG only)"}),e.jsx(L,{handleClientRemoveFile:b,onFileSelect:j,currentFile:v,currentUrl:i.remove_icon?void 0:o.icon_url,accept:".svg,.svgz",maxSize:10,className:t.icon?"border-destructive":""}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Upload an SVG file for the category icon. Maximum size: 10MB"}),e.jsx(n,{message:t.icon})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"status",children:"Status *"}),e.jsxs("select",{id:"status",value:i.status,onChange:r=>s("status",r.target.value),className:"border-input bg-background ring-offset-background placeholder:text-muted-foreground focus-visible:ring-ring flex h-10 w-full rounded-md border px-3 py-2 text-sm file:border-0 file:bg-transparent file:text-sm file:font-medium focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]}),e.jsx(n,{message:t.status})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"sort_order",children:"Sort Order"}),e.jsx(p,{id:"sort_order",type:"number",value:i.sort_order,onChange:r=>s("sort_order",r.target.value),placeholder:"Enter sort order (1, 2, 3, 4...)",min:"1",className:t.sort_order?"border-destructive":""}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Optional. Categories with sort order 1-4 will appear on the home page. Must be unique."}),e.jsx(n,{message:t.sort_order})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx(u,{type:"button",variant:"outline",asChild:!0,children:e.jsx(x,{href:"/admin/categories",children:"Cancel"})}),e.jsx(u,{type:"submit",disabled:h,children:h?"Updating...":"Update Category"})]})]})})]})]})]})})}export{le as default};
