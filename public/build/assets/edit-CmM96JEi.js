import{u as F,r as c,j as e,H as D,a as U}from"./app-D4fftTGD.js";import{B as m}from"./button-B_BY8CHS.js";import{C as x,a as h,b as p,c as g}from"./card-CyOGEHV7.js";import{F as b}from"./file-upload-sdzxoW7-.js";import{L as r}from"./label-BhLLVUyS.js";import{S as y,a as C,b as _,c as S,d}from"./select-D9BS3S8a.js";import{u as L}from"./use-error-handler-DDDq_9uD.js";import{A as k}from"./app-layout-CC-l4GDF.js";import{A as P}from"./arrow-left-DNFoHikY.js";import"./index-hkDWgcNh.js";import"./upload-Dqlesri6.js";import"./index-DqyYKiVk.js";import"./index-wiFMOTv7.js";import"./index-BdQq_4o_.js";import"./index-DPZd2R8K.js";import"./index-oIpaOIsu.js";import"./check-Dtq2BMvx.js";import"./chevron-right-Ck6X52p-.js";import"./index-DkMie7My.js";import"./index-DW9AIAM8.js";import"./base-layout-BYriwhtW.js";/* empty css            */import"./use-forced-theme-DpY-S8jc.js";import"./settings-BiUsHfOM.js";import"./logo-DB6pQEXk.js";import"./map-pin-H3wtuRxp.js";import"./crown-Bxv8wgEm.js";const R=[{title:"Banners",href:"/admin/banners"},{title:"Edit Banner",href:"/admin/banners/edit"}];function he({banner:a}){const{data:i,setData:n,processing:u,errors:t}=F({image_en:null,image_ar:null,position:a.position,status:a.status==="delete"?"inactive":a.status}),[j,v]=c.useState(null),[f,N]=c.useState(null),[A,T]=c.useState(!0),[E,H]=c.useState(!0);L();const w=(s,B)=>{if(B==="en")if(n("image_en",s),s){const l=new FileReader;l.onload=o=>{v(o.target?.result)},l.readAsDataURL(s)}else v(null);else if(n("image_ar",s),s){const l=new FileReader;l.onload=o=>{N(o.target?.result)},l.readAsDataURL(s)}else N(null)},I=s=>{s.preventDefault(),U.post(`/admin/banners/${a.id}`,{_method:"put",image_en:i.image_en,image_ar:i.image_ar,position:i.position,status:i.status},{forceFormData:!0})};return e.jsxs(k,{breadcrumbs:R,children:[e.jsx(D,{title:"Edit Banner"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 overflow-x-auto rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(m,{variant:"outline",size:"sm",onClick:()=>window.history.back(),children:e.jsx(P,{className:"h-4 w-4"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Edit Banner"}),e.jsx("p",{className:"text-gray-600",children:"Update banner details and settings"})]})]}),e.jsxs("form",{onSubmit:I,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[e.jsxs(x,{children:[e.jsx(h,{children:e.jsx(p,{children:"English Banner Image"})}),e.jsxs(g,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"image_en",children:"New English Image (optional)"}),e.jsx(b,{label:"Upload Image",onFileSelect:s=>w(s,"en"),accept:".png,.jpg,.jpeg,.gif,.svg",className:"mt-1"}),t.image_en&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.image_en})]}),A&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Current English Image"}),e.jsx("div",{className:"bg-muted flex aspect-video items-center justify-center overflow-hidden rounded-lg",children:e.jsx("img",{src:a.image_url_en,alt:"Current English banner",className:"h-full w-full object-cover"})}),e.jsx("p",{className:"text-center text-sm text-gray-600",children:"To change this image, upload or drag a new image above"})]}),j&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"New English Image Preview"}),e.jsx("div",{className:"bg-muted flex aspect-video items-center justify-center overflow-hidden rounded-lg",children:e.jsx("img",{src:j,alt:"New English banner preview",className:"h-full w-full object-cover"})})]})]})]}),e.jsxs(x,{children:[e.jsx(h,{children:e.jsx(p,{children:"Arabic Banner Image"})}),e.jsxs(g,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"image_ar",children:"New Arabic Image (optional)"}),e.jsx(b,{label:"Upload Image",onFileSelect:s=>w(s,"ar"),accept:".png,.jpg,.jpeg,.gif,.svg",className:"mt-1"}),t.image_ar&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.image_ar})]}),E&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Current Arabic Image"}),e.jsx("div",{className:"bg-muted flex aspect-video items-center justify-center overflow-hidden rounded-lg",children:e.jsx("img",{src:a.image_url_ar,alt:"Current Arabic banner",className:"h-full w-full object-cover"})}),e.jsx("p",{className:"text-center text-sm text-gray-600",children:"To change this image, upload or drag a new image above"})]}),f&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"New Arabic Image Preview"}),e.jsx("div",{className:"bg-muted flex aspect-video items-center justify-center overflow-hidden rounded-lg",children:e.jsx("img",{src:f,alt:"New Arabic banner preview",className:"h-full w-full object-cover"})})]})]})]})]}),e.jsxs(x,{children:[e.jsx(h,{children:e.jsx(p,{children:"Banner Details"})}),e.jsxs(g,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"position",children:"Position *"}),e.jsxs(y,{value:i.position,onValueChange:s=>n("position",s),children:[e.jsx(C,{className:"mt-1",children:e.jsx(_,{placeholder:"Select position"})}),e.jsxs(S,{children:[e.jsx(d,{value:"top",children:"Top"}),e.jsx(d,{value:"bottom",children:"Bottom"})]})]}),t.position&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.position})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"status",children:"Status *"}),e.jsxs(y,{value:i.status,onValueChange:s=>n("status",s),children:[e.jsx(C,{className:"mt-1",children:e.jsx(_,{placeholder:"Select status"})}),e.jsxs(S,{children:[e.jsx(d,{value:"active",children:"Active"}),e.jsx(d,{value:"inactive",children:"Inactive"})]})]}),t.status&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.status})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h4",{className:"mb-2 font-medium text-gray-900",children:"Banner Statistics"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Clicks:"}),e.jsx("span",{className:"ml-2 font-medium",children:a.click_count})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Created:"}),e.jsx("span",{className:"ml-2 font-medium",children:new Date(a.created_at).toLocaleDateString()})]})]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-4",children:[e.jsx(m,{type:"button",variant:"outline",onClick:()=>window.history.back(),children:"Cancel"}),e.jsx(m,{type:"submit",disabled:u,children:u?"Updating...":"Update Banner"})]})]})]})]})}export{he as default};
