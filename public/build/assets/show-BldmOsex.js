import{j as e,r as c,u as ae,H as Ge,b as o,X as Ye,T as Je}from"./app-CQQZ9fum.js";import{B as l}from"./badge-DeSGAYW3.js";import{B as r}from"./button-yYs5v75y.js";import{C as d,a as m,b as x,d as g,c as h}from"./card-YadA5Yr8.js";import{D as f,b as N,c as b,d as w,e as S,f as D,a as re}from"./dialog-CIRZ_6XQ.js";import{a as ce,S as Ke,c as ne,U as Qe,b as We}from"./suspension-dialog-CxSwCsW6.js";import{L as Ze}from"./label-DmazW0nJ.js";import{T as p}from"./textarea-D6TFMBp1.js";import{u as es}from"./use-error-handler-C3fUnql3.js";import{A as ss,D as ts,I as ie}from"./app-layout-BK16j49V.js";import{A as as}from"./arrow-left-BIcfyqFZ.js";import{U as H}from"./user-DhLhZTdl.js";import{T as R}from"./trash-2-byK11b-6.js";import{S as le}from"./shield-TIDj9Y6m.js";import{E as V}from"./eye-DvV0wWv9.js";import{M as rs}from"./map-pin-BGMbn8NO.js";import{C as ns}from"./calendar-Dhq5R6Vs.js";import{T as is,a as ls}from"./toggle-right-By-9mijC.js";import{C as cs}from"./check-Bcy343Yk.js";import{S as os}from"./shopping-cart-PVsOrv4J.js";import{C as ds}from"./clock-CGTQwE7r.js";import"./index-BlE3e8Ui.js";import"./index-QxE9D8ey.js";import"./index-DMnYIcAC.js";import"./chevron-right-DFxlTfi4.js";import"./index-j6UNAcRl.js";import"./index-DW9AIAM8.js";import"./base-layout-o2LzA-MT.js";/* empty css            */import"./use-forced-theme-CyV_QBBk.js";import"./settings-7FCWWGTC.js";import"./logo-DB6pQEXk.js";import"./crown-CB6iPXXa.js";const ms=({open:t,onOpenChange:j,onConfirm:E,userName:$})=>{const T=()=>{E(),j(!1)};return e.jsx(f,{open:t,onOpenChange:j,children:e.jsxs(N,{className:"bg-white sm:max-w-md",children:[e.jsx(b,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-green-100 text-green-600",children:e.jsx(ce,{className:"h-5 w-5"})})}),e.jsxs("div",{children:[e.jsx(w,{className:"text-lg font-semibold",children:"Reactivate User Account"}),e.jsxs(S,{className:"text-muted-foreground mt-1 text-sm",children:['Are you sure you want to reactivate "',$,'"? This will restore their access to the platform.']})]})]})}),e.jsxs(D,{className:"gap-3",children:[e.jsx(r,{variant:"outline",onClick:()=>j(!1),children:"Cancel"}),e.jsx(r,{variant:"default",onClick:T,children:"Yes, Reactivate"})]})]})})},xs=[{title:"Users",href:"/admin/users"},{title:"User Details",href:"/admin/users/details"}];function qs({user:t,totalAds:j,totalViews:E,activeAds:$}){const[T,I]=c.useState(!1),[oe,X]=c.useState(!1),[de,q]=c.useState(!1),[me,O]=c.useState(!1),[xe,P]=c.useState(!1),[y,U]=c.useState(null),[G,v]=c.useState(!1),[he,C]=c.useState(!1),[je,k]=c.useState(!1),[Y,z]=c.useState(null),[J,F]=c.useState(null),[_,L]=c.useState(""),[A,B]=c.useState(""),[u,M]=c.useState("");es();const{data:ue,setData:K,post:pe,processing:Q}=ae({revocation_reason:""}),{data:ve,setData:ge,delete:fe,processing:W}=ae({deletion_reason:""}),Ne=s=>{s.preventDefault(),pe(`/admin/users/${t.id}/revoke-subscription`,{onSuccess:()=>{I(!1),K("revocation_reason","")},onError:a=>{const i=Object.values(a).flat().join(", ");alert(`Error: ${i}`)}})},be=s=>{s.preventDefault(),fe(`/admin/users/${t.id}`,{onSuccess:()=>{o.visit("/admin/users")},onError:a=>{const i=Object.values(a).flat().join(", ");alert(`Error: ${i}`)}})},we=()=>{t.status==="active"?O(!0):o.patch(`/admin/users/${t.id}/toggle`,{},{onSuccess:()=>{localStorage.setItem("admin-users-refresh","true")},onError:s=>{const n=Object.values(s).flat().join(", ");alert(`Error: ${n}`)}})},Se=s=>{P(!0),o.patch(`/admin/users/${t.id}/suspend`,{suspension_reason:s},{onSuccess:()=>{P(!1),O(!1),localStorage.setItem("admin-users-refresh","true")},onError:a=>{P(!1);const i=Object.values(a).flat().join(", ");alert(`Error: ${i}`)}})},De=()=>{q(!0)},ye=()=>{o.post(`/admin/users/${t.id}/reactivate`,{},{onSuccess:()=>{localStorage.setItem("admin-users-refresh","true")},onError:s=>{const n=Object.values(s).flat().join(", ");alert(`Error: ${n}`)}})},Ce=s=>{const a=t.ads?.find(n=>n.id===s);a&&a.status==="active"?(F(s),k(!0)):o.patch(`/admin/ads/${s}/toggle-status`,{},{onError:n=>{const qe=Object.values(n).flat().join(", ");alert(`Error: ${qe}`)},preserveScroll:!0})},ke=s=>{o.patch(`/admin/ads/${s}/approve`,{},{onError:a=>{const i=Object.values(a).flat().join(", ");alert(`Error: ${i}`)},preserveScroll:!0})},_e=s=>{z(s),C(!0)},Ae=()=>{Y&&_.trim()&&o.post(`/admin/ads/${Y}/reject`,{reject_reason:_},{onSuccess:()=>{C(!1),z(null),L("")},onError:s=>{const n=Object.values(s).flat().join(", ");alert(`Error: ${n}`)},preserveScroll:!0})},Me=s=>{o.patch(`/admin/ads/${s}/mark-sold`,{},{onError:a=>{const i=Object.values(a).flat().join(", ");alert(`Error: ${i}`)},preserveScroll:!0})},Re=s=>{o.patch(`/admin/ads/${s}/mark-expired`,{},{onError:a=>{const i=Object.values(a).flat().join(", ");alert(`Error: ${i}`)},preserveScroll:!0})},Z=s=>{U(s),v(!0)},ee=()=>{if(!u.trim()){alert("Please provide a reason for deletion.");return}y&&o.post(`/admin/ads/${y}/delete`,{delete_reason:u},{onSuccess:()=>{v(!1),U(null),M("")},onError:s=>{const n=Object.values(s).flat().join(", ");alert(`Error: ${n}`)},preserveScroll:!0})},se=()=>{v(!1),U(null),M("")},Ee=()=>{if(!A.trim()){alert("Please provide a reason for marking as inactive.");return}J&&o.post(`/admin/ads/${J}/mark-inactive`,{inactive_reason:A},{onSuccess:()=>{k(!1),F(null),B("")},onError:s=>{const n=Object.values(s).flat().join(", ");alert(`Error: ${n}`)},preserveScroll:!0})},$e=()=>{k(!1),F(null),B("")},Te=()=>{C(!1),z(null),L("")},Ie=s=>{const a={active:{variant:"default",icon:ce,text:"Active"},suspended:{variant:"secondary",icon:Qe,text:"Suspended"},banned:{variant:"destructive",icon:ne,text:"Banned"},deleted:{variant:"outline",icon:R,text:"Deleted"}},n=a[s]||a.active,i=n.icon;return e.jsxs(l,{variant:n.variant,className:"flex items-center gap-1",children:[e.jsx(i,{className:"h-3 w-3"}),n.text]})},te=()=>{if(!t.subscription)return e.jsx(l,{variant:"outline",children:"No Subscription"});const s=new Date(t.subscription.expires_at)<new Date;return t.subscription.is_active&&!s?e.jsxs(l,{variant:"default",className:"flex items-center gap-1",children:[e.jsx(We,{className:"h-3 w-3"}),t.subscription.plan.name]}):s?e.jsxs(l,{variant:"secondary",className:"flex items-center gap-1",children:[e.jsx(le,{className:"h-3 w-3"}),"Expired"]}):e.jsxs(l,{variant:"outline",className:"flex items-center gap-1",children:[e.jsx(ne,{className:"h-3 w-3"}),"Inactive"]})},Oe=s=>{switch(s){case"draft":return e.jsx(l,{className:"bg-gray-100 text-gray-800",children:"Draft"});case"active":return e.jsx(l,{className:"bg-green-100 text-green-800",children:"Active"});case"inactive":return e.jsx(l,{className:"bg-orange-100 text-orange-800",children:"Inactive"});case"expired":return e.jsx(l,{className:"bg-yellow-100 text-yellow-800",children:"Expired"});case"sold":return e.jsx(l,{className:"bg-blue-100 text-blue-800",children:"Sold"});case"delete":return e.jsx(l,{className:"bg-red-100 text-red-800",children:"Deleted"});default:return e.jsx(l,{variant:"secondary",children:s})}},Pe=(s,a)=>{const n=typeof s=="string"?parseFloat(s):s,i=a||"Fixed";return`$${n.toFixed(2)} ${i}`},Ue=s=>s.is_approved===!0?e.jsx(l,{className:"bg-green-100 text-green-800",children:"Approved"}):s.is_approved===!1?e.jsx(l,{className:"bg-red-100 text-red-800",children:"Rejected"}):e.jsx(l,{className:"bg-yellow-100 text-yellow-800",children:"Pending Approval"}),ze=s=>s.is_approved===null||s.is_approved===!1,Fe=s=>s.is_approved===null,Le=s=>!["draft","sold"].includes(s.status),Be=s=>s.status==="active"&&s.is_approved===!0,He=s=>s.status==="active"&&s.is_approved===!0,Ve=s=>s.status!=="sold",Xe=s=>s.status==="sold";return e.jsxs(ss,{breadcrumbs:xs,children:[e.jsxs(e.Fragment,{children:[e.jsx(Ge,{title:`User Details - ${t.name_en}`}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 overflow-x-auto rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(r,{variant:"ghost",size:"sm",onClick:()=>{localStorage.setItem("admin-users-refresh","true"),o.visit("/admin/users",{method:"get",preserveState:!1,preserveScroll:!1})},children:e.jsx(as,{className:"h-4 w-4"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:t.name_en}),e.jsx("p",{className:"text-muted-foreground",children:t.email})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[Ie(t.status),te(),t.status==="deleted"?e.jsxs(r,{variant:"outline",onClick:De,children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),"Reactivate"]}):e.jsxs(e.Fragment,{children:[e.jsx(r,{variant:"outline",onClick:we,children:t.status==="active"?"Suspend":"Activate"}),e.jsxs(r,{variant:"destructive",onClick:()=>X(!0),children:[e.jsx(R,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[e.jsxs(d,{children:[e.jsx(m,{children:e.jsxs("div",{children:[e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx(H,{className:"h-5 w-5"}),"Profile Information"]}),e.jsx(g,{children:"User's personal and contact details"})]})}),e.jsx(h,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:"English Name"}),e.jsx("p",{className:"text-sm",children:t.name_en})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:"Arabic Name"}),e.jsx("p",{className:"text-sm",children:t.name_ar})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:"Email"}),e.jsx("p",{className:"text-sm",children:t.email})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:"Phone"}),e.jsx("p",{className:"text-sm",children:t.phone})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:"Governorate"}),e.jsx("p",{className:"text-sm",children:t.governorate?.name_en||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:"Member Since"}),e.jsx("p",{className:"text-sm",children:new Date(t.created_at).toLocaleDateString()})]})]}),t.suspension_reason&&e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:"Suspension Reason"}),e.jsx("p",{className:"text-sm",children:t.suspension_reason})]}),t.deletion_reason&&e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:"Deletion Reason"}),e.jsx("p",{className:"text-sm",children:t.deletion_reason})]})]})})]}),e.jsxs(d,{children:[e.jsx(m,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx(le,{className:"h-5 w-5"}),"Subscription Information"]}),e.jsx(g,{children:"Current subscription status and history"})]}),t.subscription&&t.subscription.is_active&&e.jsx(r,{variant:"destructive",onClick:()=>I(!0),children:"Revoke Subscription"})]})}),e.jsx(h,{children:t.subscription?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:"Plan"}),e.jsx("p",{className:"text-sm",children:t.subscription.plan.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:"Status"}),te()]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:"Expires At"}),e.jsx("p",{className:"text-sm",children:new Date(t.subscription.expires_at).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:"Created At"}),e.jsx("p",{className:"text-sm",children:new Date(t.subscription.created_at).toLocaleDateString()})]})]}),t.subscription.revocation_reason&&e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:"Revocation Reason"}),e.jsx("p",{className:"text-sm",children:t.subscription.revocation_reason})]})]}):e.jsx("p",{className:"text-muted-foreground text-sm",children:"No active subscription"})})]}),e.jsxs(d,{children:[e.jsxs(m,{children:[e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx(V,{className:"h-5 w-5"}),"Recent Ads (",j," total)"]}),e.jsx(g,{children:"User's recently posted advertisements"})]}),e.jsx(h,{children:(t.ads||[]).length>0?e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:(t.ads||[]).map(s=>e.jsxs(d,{className:"overflow-hidden",children:[e.jsx(m,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx(x,{className:"mb-2 line-clamp-2 text-lg",children:s.title_en}),e.jsxs("div",{className:"text-muted-foreground flex items-center gap-2 text-sm",children:[e.jsx(H,{className:"h-4 w-4"}),e.jsx("span",{className:"truncate",children:t.name_en})]})]}),e.jsxs("div",{className:"flex flex-col items-end gap-2",children:[Oe(s.status),Ue(s),s.is_featured&&e.jsx(l,{className:"bg-yellow-100 text-yellow-800",children:"Featured"}),e.jsx("div",{className:"flex items-center gap-1",children:s.is_negotiable&&e.jsx(ts,{className:"h-4 w-4 text-blue-500"})})]})]})}),e.jsxs(h,{className:"space-y-4",children:[e.jsx("div",{className:"bg-muted flex aspect-video items-center justify-center rounded-lg",children:s.primaryImage?e.jsx("img",{src:s.primaryImage.url,alt:s.title_en,className:"h-full w-full rounded-lg object-cover"}):e.jsx(ie,{className:"text-muted-foreground h-12 w-12"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-primary text-2xl font-bold",children:Pe(s.price,s.priceType?.name_en)}),e.jsxs("div",{className:"text-muted-foreground text-sm",children:[s.views_count," views"]})]}),e.jsxs("div",{className:"text-muted-foreground flex items-center gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(rs,{className:"h-4 w-4"}),s.governorate?.name_en||"N/A"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ns,{className:"h-4 w-4"}),new Date(s.created_at).toLocaleDateString()]})]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:"Category:"})," ",s.category.name_en]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:"Condition:"})," ",s.condition?.name_en||"N/A"]})]}),e.jsx("div",{className:"flex items-center justify-between border-t pt-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(r,{variant:"ghost",size:"sm",onClick:()=>o.get(`/admin/ads/${s.id}`),children:e.jsx(V,{className:"h-4 w-4"})}),s.status==="draft"&&e.jsxs(f,{open:G&&y===s.id,onOpenChange:v,children:[e.jsx(re,{asChild:!0,children:e.jsx(r,{variant:"ghost",size:"sm",onClick:()=>Z(s.id),className:"text-destructive hover:text-destructive",title:"Delete",children:e.jsx(R,{className:"h-4 w-4"})})}),e.jsxs(N,{children:[e.jsxs(b,{children:[e.jsx(w,{children:"Delete Ad"}),e.jsxs(S,{children:['Are you sure you want to delete "',s.title_en,'"? This action cannot be undone.']})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Reason for deletion"}),e.jsx(p,{value:u,onChange:a=>M(a.target.value),placeholder:"Please provide a reason for deleting this ad...",className:"mt-1"})]})}),e.jsxs(D,{children:[e.jsx(r,{variant:"outline",onClick:se,children:"Cancel"}),e.jsx(r,{variant:"destructive",onClick:ee,disabled:!u.trim(),children:"Delete Ad"})]})]})]}),Le(s)&&e.jsx(r,{variant:"ghost",size:"sm",onClick:()=>Ce(s.id),className:s.status==="active"?"text-green-600 hover:text-green-700":"text-red-600 hover:text-red-700",title:s.status==="active"?"Deactivate":"Activate",children:s.status==="active"?e.jsx(is,{className:"h-4 w-4"}):e.jsx(ls,{className:"h-4 w-4"})}),ze(s)&&e.jsx(r,{variant:"ghost",size:"sm",onClick:()=>ke(s.id),className:"text-green-600 hover:text-green-700",title:"Approve",children:e.jsx(cs,{className:"h-4 w-4"})}),Fe(s)&&e.jsx(r,{variant:"ghost",size:"sm",onClick:()=>_e(s.id),className:"text-red-600 hover:text-red-700",title:"Reject",children:e.jsx(Ye,{className:"h-4 w-4"})}),Be(s)&&e.jsx(r,{variant:"ghost",size:"sm",onClick:()=>Me(s.id),className:"text-blue-600 hover:text-blue-700",title:"Mark as Sold",children:e.jsx(os,{className:"h-4 w-4"})}),He(s)&&e.jsx(r,{variant:"ghost",size:"sm",onClick:()=>Re(s.id),className:"text-yellow-600 hover:text-yellow-700",title:"Mark as Expired",children:e.jsx(ds,{className:"h-4 w-4"})}),Ve(s)&&s.status!=="draft"&&s.status!=="delete"&&e.jsxs(f,{open:G&&y===s.id,onOpenChange:v,children:[e.jsx(re,{asChild:!0,children:e.jsx(r,{variant:"ghost",size:"sm",onClick:()=>Z(s.id),className:"text-destructive hover:text-destructive",title:"Delete",children:e.jsx(R,{className:"h-4 w-4"})})}),e.jsxs(N,{children:[e.jsxs(b,{children:[e.jsx(w,{children:"Delete Ad"}),e.jsxs(S,{children:['Are you sure you want to delete "',s.title_en,'"? This action cannot be undone.']})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Reason for deletion"}),e.jsx(p,{value:u,onChange:a=>M(a.target.value),placeholder:"Please provide a reason for deleting this ad...",className:"mt-1"})]})}),e.jsxs(D,{children:[e.jsx(r,{variant:"outline",onClick:se,children:"Cancel"}),e.jsx(r,{variant:"destructive",onClick:ee,disabled:!u.trim(),children:"Delete Ad"})]})]})]}),Xe(s)&&e.jsxs("div",{className:"flex items-center gap-1 text-blue-600",children:[e.jsx(Je,{className:"h-4 w-4"}),e.jsx("span",{className:"text-xs",children:"Final State"})]})]})})]})]},s.id))}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(ie,{className:"text-muted-foreground mb-4 h-12 w-12"}),e.jsx("h3",{className:"mb-2 text-lg font-semibold",children:"No ads found"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"This user hasn't posted any ads yet."})]})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(d,{children:[e.jsx(m,{children:e.jsx(x,{children:"Statistics"})}),e.jsxs(h,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Total Ads"}),e.jsx("span",{className:"text-2xl font-bold",children:j})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Active Ads"}),e.jsx("span",{className:"text-2xl font-bold",children:$})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Total Views"}),e.jsx("span",{className:"text-2xl font-bold",children:E})]})]})]}),e.jsxs(d,{children:[e.jsx(m,{children:e.jsx(x,{children:"Recent Activity"})}),e.jsx(h,{children:e.jsx("div",{className:"space-y-3",children:(t.adViews||[]).slice(0,5).map(s=>e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx(V,{className:"text-muted-foreground h-4 w-4"}),e.jsxs("span",{children:['Viewed "',s.ad?.title||"Unknown Ad",'"']}),e.jsx("span",{className:"text-muted-foreground",children:new Date(s.created_at).toLocaleDateString()})]},s.id))})})]})]})]}),T&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:e.jsxs(d,{className:"w-full max-w-md",children:[e.jsxs(m,{children:[e.jsx(x,{children:"Revoke Subscription"}),e.jsx(g,{children:"This will immediately revoke the user's subscription"})]}),e.jsx(h,{children:e.jsxs("form",{onSubmit:Ne,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ze,{htmlFor:"revocation_reason",children:"Reason for revocation"}),e.jsx(p,{id:"revocation_reason",value:ue.revocation_reason,onChange:s=>K("revocation_reason",s.target.value),placeholder:"Provide reason for revoking subscription",required:!0})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(r,{type:"button",variant:"outline",onClick:()=>I(!1),children:"Cancel"}),e.jsx(r,{type:"submit",variant:"destructive",disabled:Q,children:Q?"Revoking...":"Revoke Subscription"})]})]})})]})}),oe&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:e.jsxs(d,{className:"w-full max-w-md",children:[e.jsxs(m,{children:[e.jsx(x,{children:"Delete User Account"}),e.jsx(g,{children:"This will permanently delete the user's account"})]}),e.jsx(h,{children:e.jsxs("form",{onSubmit:be,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Reason for deletion"}),e.jsx(p,{id:"deletion_reason",value:ve.deletion_reason,onChange:s=>ge("deletion_reason",s.target.value),placeholder:"Provide reason for deleting account",required:!0})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(r,{type:"button",variant:"outline",onClick:()=>X(!1),children:"Cancel"}),e.jsx(r,{type:"submit",variant:"destructive",disabled:W,children:W?"Deleting...":"Delete Account"})]})]})})]})}),e.jsx(f,{open:he,onOpenChange:C,children:e.jsxs(N,{children:[e.jsxs(b,{children:[e.jsx(w,{children:"Reject Ad"}),e.jsx(S,{children:"Please provide a reason for rejecting this ad. This will help the user understand what needs to be changed."})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Rejection Reason"}),e.jsx(p,{id:"reject-reason",value:_,onChange:s=>L(s.target.value),placeholder:"Enter the reason for rejection...",className:"mt-1",rows:4})]})}),e.jsxs(D,{children:[e.jsx(r,{variant:"outline",onClick:Te,children:"Cancel"}),e.jsx(r,{variant:"destructive",onClick:Ae,disabled:!_.trim(),children:"Reject Ad"})]})]})}),e.jsx(f,{open:je,onOpenChange:k,children:e.jsxs(N,{children:[e.jsxs(b,{children:[e.jsx(w,{children:"Mark as Inactive"}),e.jsx(S,{children:"Please provide a reason for marking this ad as inactive."})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Inactive Reason"}),e.jsx(p,{id:"inactive-reason",value:A,onChange:s=>B(s.target.value),placeholder:"Enter the reason for marking as inactive...",className:"mt-1",rows:4})]})}),e.jsxs(D,{children:[e.jsx(r,{variant:"outline",onClick:$e,children:"Cancel"}),e.jsx(r,{variant:"destructive",onClick:Ee,disabled:!A.trim(),children:"Mark as Inactive"})]})]})})]})]}),e.jsx(ms,{open:de,onOpenChange:q,onConfirm:ye,userName:t.name_en}),e.jsx(Ke,{open:me,onOpenChange:O,onConfirm:Se,userName:t.name_en,isSuspending:xe})]})}export{qs as default};
