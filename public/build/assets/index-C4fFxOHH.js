import{r as d,b as x,j as e,H,L as g}from"./app-CYM3PNp1.js";import{B as m}from"./badge-Diu093LN.js";import{B as c}from"./button-C7nw6qcu.js";import{C as v,a as C,b as O,c as f}from"./card-fs3rVVQQ.js";import{D as R,a as F,b as V,c as U,d as q,e as G,f as J}from"./dialog-D6gXA9tz.js";import{I as K}from"./input-DXQNqKBk.js";import{S as N,a as S,b,c as y,d as o}from"./select-B7xDJWvB.js";import{u as Q}from"./use-error-handler-BEvk4a9K.js";import{A as W,I as X}from"./app-layout-3e2Nwvxm.js";import{P as A}from"./plus-CetcI2CD.js";import{F as Y}from"./filter-D-ldOTW8.js";import{S as Z}from"./search-CV99GWnC.js";import{T as ee,a as se}from"./toggle-right-BT29Rz9l.js";import{S as ae}from"./square-pen-DSGZj8Uk.js";import{T as te}from"./trash-2-DoNEwY_E.js";import"./index-5_OapAfH.js";import"./index-lGUcocfo.js";import"./index-C5HyJD3C.js";import"./index-BdQq_4o_.js";import"./index-D1RNmNR_.js";import"./check-25m0aqsS.js";import"./chevron-right-rarKV8wF.js";import"./index-dfFKHXjz.js";import"./index-DW9AIAM8.js";import"./base-layout-CEx8z9PL.js";/* empty css            */import"./use-forced-theme-Bq8pa95d.js";import"./settings-BDBjvKmM.js";import"./logo-DB6pQEXk.js";import"./map-pin--_Eww1hY.js";import"./crown-Bbso2q9j.js";const re=[{title:"Banners",href:"/admin/banners"}];function Le({banners:i,filters:p}){const[l,D]=d.useState(p.search||""),[a,_]=d.useState(p.position||"all"),[t,B]=d.useState(p.status||"all"),[r,T]=d.useState(p.is_approved||"all"),[u,j]=d.useState(null),[P,h]=d.useState(!1);Q(),d.useEffect(()=>{const s=setTimeout(()=>{x.get("/admin/banners",{search:l||void 0,position:a==="all"?void 0:a,status:t==="all"?void 0:t,is_approved:r==="all"?void 0:r},{preserveState:!0,replace:!0,preserveScroll:!0})},300);return()=>clearTimeout(s)},[l,a,t,r]);const I=s=>{switch(s){case"active":return e.jsx(m,{className:"bg-green-100 text-green-800",children:"Active"});case"inactive":return e.jsx(m,{className:"bg-orange-100 text-orange-800",children:"Inactive"});case"delete":return e.jsx(m,{className:"bg-red-100 text-red-800",children:"Deleted"});default:return e.jsx(m,{variant:"secondary",children:s})}},k=s=>{switch(s){case"top":return e.jsx(m,{className:"bg-blue-100 text-blue-800",children:"Top"});case"bottom":return e.jsx(m,{className:"bg-purple-100 text-purple-800",children:"Bottom"});default:return e.jsx(m,{variant:"secondary",children:s})}},E=s=>{x.patch(`/admin/banners/${s}/toggle`,{},{onError:n=>{const z=Object.values(n).flat().join(", ");alert(`Error: ${z}`)},preserveScroll:!0})},$=s=>{j(s),h(!0)},L=()=>{u&&x.delete(`/admin/banners/${u}`,{onSuccess:()=>{h(!1),j(null)},onError:s=>{const w=Object.values(s).flat().join(", ");alert(`Error: ${w}`)},preserveScroll:!0})},M=()=>{h(!1),j(null)};return e.jsxs(W,{breadcrumbs:re,children:[e.jsx(H,{title:"Banners"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 overflow-x-auto rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Banners"}),e.jsx("p",{className:"text-gray-600",children:"Manage site banners and promotional content"})]}),e.jsx(g,{href:"/admin/banners/create",children:e.jsxs(c,{children:[e.jsx(A,{className:"mr-2 h-4 w-4"}),"Create Banner"]})})]}),e.jsxs(v,{children:[e.jsx(C,{children:e.jsxs(O,{className:"flex items-center gap-2",children:[e.jsx(Y,{className:"h-5 w-5"}),"Filters"]})}),e.jsx(f,{children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx(Z,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 transform text-gray-400"}),e.jsx(K,{placeholder:"Search banners...",value:l,onChange:s=>D(s.target.value),className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Position"}),e.jsxs(N,{value:a,onValueChange:_,children:[e.jsx(S,{children:e.jsx(b,{placeholder:"All Positions"})}),e.jsxs(y,{children:[e.jsx(o,{value:"all",children:"All Positions"}),e.jsx(o,{value:"top",children:"Top"}),e.jsx(o,{value:"bottom",children:"Bottom"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Status"}),e.jsxs(N,{value:t,onValueChange:B,children:[e.jsx(S,{children:e.jsx(b,{placeholder:"All Statuses"})}),e.jsxs(y,{children:[e.jsx(o,{value:"all",children:"All Statuses"}),e.jsx(o,{value:"active",children:"Active"}),e.jsx(o,{value:"inactive",children:"Inactive"}),e.jsx(o,{value:"delete",children:"Deleted"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Approval"}),e.jsxs(N,{value:r,onValueChange:T,children:[e.jsx(S,{children:e.jsx(b,{placeholder:"All Approval"})}),e.jsxs(y,{children:[e.jsx(o,{value:"all",children:"All Approval"}),e.jsx(o,{value:"true",children:"Approved"}),e.jsx(o,{value:"false",children:"Not Approved"})]})]})]})]})})]}),e.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:i.data.map(s=>e.jsxs(v,{className:"overflow-hidden",children:[e.jsx(C,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[I(s.status),k(s.position)]}),e.jsx("div",{className:"flex items-center gap-1",children:e.jsx(c,{variant:"ghost",size:"sm",onClick:()=>E(s.id),className:s.status==="active"?"text-green-600 hover:text-green-700":"text-orange-600 hover:text-orange-700",title:s.status==="active"?"Deactivate":"Activate",children:s.status==="active"?e.jsx(ee,{className:"h-4 w-4"}):e.jsx(se,{className:"h-4 w-4"})})})]})}),e.jsxs(f,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"mb-1 text-xs font-medium text-gray-600",children:"English"}),e.jsx("div",{className:"bg-muted flex aspect-video items-center justify-center overflow-hidden rounded-lg",children:e.jsx("img",{src:s.image_url_en,alt:"English Banner",className:"h-full w-full object-cover"})})]}),e.jsxs("div",{children:[e.jsx("div",{className:"mb-1 text-xs font-medium text-gray-600",children:"Arabic"}),e.jsx("div",{className:"bg-muted flex aspect-video items-center justify-center overflow-hidden rounded-lg",children:e.jsx("img",{src:s.image_url_ar,alt:"Arabic Banner",className:"h-full w-full object-cover"})})]})]}),e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Clicks:"}),e.jsx("span",{className:"font-medium",children:s.click_count})]})}),e.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[e.jsx(g,{href:`/admin/banners/${s.id}/edit`,children:e.jsx(c,{variant:"outline",size:"sm",children:e.jsx(ae,{className:"h-4 w-4"})})}),s.status!=="delete"&&e.jsxs(R,{open:P&&u===s.id,onOpenChange:h,children:[e.jsx(F,{asChild:!0,children:e.jsx(c,{variant:"ghost",size:"sm",onClick:()=>$(s.id),className:"text-red-600 hover:text-red-700",children:e.jsx(te,{className:"h-4 w-4"})})}),e.jsxs(V,{children:[e.jsxs(U,{children:[e.jsx(q,{children:"Delete Banner"}),e.jsx(G,{children:"Are you sure you want to delete this banner? This action cannot be undone."})]}),e.jsxs(J,{children:[e.jsx(c,{variant:"outline",onClick:M,children:"Cancel"}),e.jsx(c,{variant:"destructive",onClick:L,children:"Delete"})]})]})]})]})]})]},s.id))}),i.data.length===0&&e.jsx(v,{children:e.jsxs(f,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(X,{className:"mb-4 h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mb-2 text-lg font-medium text-gray-900",children:"No banners found"}),e.jsx("p",{className:"mb-4 text-center text-gray-500",children:l||a!=="all"||t!=="all"||r!=="all"?"No banners match your current filters.":"Get started by creating your first banner."}),!l&&a==="all"&&t==="all"&&r==="all"&&e.jsx(g,{href:"/admin/banners/create",children:e.jsxs(c,{children:[e.jsx(A,{className:"mr-2 h-4 w-4"}),"Create Banner"]})})]})}),i.last_page>1&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",i.from," to ",i.to," of ",i.total," results"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[i.current_page>1&&e.jsx(c,{variant:"outline",size:"sm",onClick:()=>{const s=new URLSearchParams;l&&l.trim()&&s.append("search",l),a&&a!=="all"&&s.append("position",a),t&&t!=="all"&&s.append("status",t),r&&r!=="all"&&s.append("is_approved",r),s.append("page",(i.current_page-1).toString()),x.get(`/admin/banners?${s.toString()}`,{},{preserveScroll:!0})},children:"Previous"}),e.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:i.last_page},(s,n)=>n+1).map(s=>e.jsx(c,{variant:s===i.current_page?"default":"outline",size:"sm",onClick:()=>{const n=new URLSearchParams;l&&l.trim()&&n.append("search",l),a&&a!=="all"&&n.append("position",a),t&&t!=="all"&&n.append("status",t),r&&r!=="all"&&n.append("is_approved",r),n.append("page",s.toString()),x.get(`/admin/banners?${n.toString()}`,{},{preserveScroll:!0})},children:s},s))}),i.current_page<i.last_page&&e.jsx(c,{variant:"outline",size:"sm",onClick:()=>{const s=new URLSearchParams;l&&l.trim()&&s.append("search",l),a&&a!=="all"&&s.append("position",a),t&&t!=="all"&&s.append("status",t),r&&r!=="all"&&s.append("is_approved",r),s.append("page",(i.current_page+1).toString()),x.get(`/admin/banners?${s.toString()}`,{},{preserveScroll:!0})},children:"Next"})]})]})]})]})}export{Le as default};
