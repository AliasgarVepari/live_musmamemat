import{a3 as re,a4 as Me,a5 as Ae,d as Ie,r as h,g as Ke,j as e,h as Le,i as B,P as $,f as V,k as Be,c as Ve,p as Fe,o as Te,H as He,b as Z}from"./app-CYWBXX07.js";import{H as ne,F as ie,B as L,A as Oe}from"./Header-DBHJSKhg.js";import{B as O,I as ze}from"./input-BsgEeQev.js";import{C as z,a as oe}from"./card-BHTCwE2S.js";import{S as Q,a as Y,b as W,c as X,d as R}from"./select-ByyYEHW-.js";import{c as he}from"./index-BdQq_4o_.js";import{u as $e}from"./index-CL62j43o.js";import{u as Ue}from"./index-DXgdkC3L.js";import{c as qe}from"./index-DdYmH3An.js";import{u as Qe}from"./use-favorites-CFir1M50.js";import{Q as Ye,a as We}from"./useQuery-DTYyH2cO.js";import{U as le}from"./user-layout-CwyDyt83.js";import{u as Xe,s as ce}from"./index-B4SeWabt.js";import{L as Ge}from"./loader-circle-B32XsApR.js";import{C as Je}from"./chevron-right-DiKejydi.js";import{S as Ze}from"./search-BNBQVDZj.js";import{S as de}from"./star-Bw8MApUe.js";import{H as me}from"./heart-DlZND34S.js";import{M as ue}from"./map-pin-CKu1rcyW.js";import"./phone-Duo_z68s.js";import"./index-uxg4CHzt.js";import"./index-DK5vjGzq.js";import"./index-CuEU2V2Y.js";import"./check-DzAMHTiq.js";import"./user-Cyf3IBnQ.js";import"./index-B3MwRJPd.js";import"./use-forced-theme-HDN5vuZO.js";/* empty css            */import"./index-DW9AIAM8.js";import"./index-BX7CGiW0.js";var et=class extends Ye{constructor(a,r){super(a,r)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(a){super.setOptions({...a,behavior:re()})}getOptimisticResult(a){return a.behavior=re(),super.getOptimisticResult(a)}fetchNextPage(a){return this.fetch({...a,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(a){return this.fetch({...a,meta:{fetchMore:{direction:"backward"}}})}createResult(a,r){const{state:n}=a,i=super.createResult(a,r),{isFetching:d,isRefetching:c,isError:t,isRefetchError:m}=i,f=n.fetchMeta?.fetchMore?.direction,j=t&&f==="forward",o=d&&f==="forward",l=t&&f==="backward",u=d&&f==="backward";return{...i,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:Ae(r,n.data),hasPreviousPage:Me(r,n.data),isFetchNextPageError:j,isFetchingNextPage:o,isFetchPreviousPageError:l,isFetchingPreviousPage:u,isRefetchError:m&&!j&&!l,isRefetching:c&&!o&&!u}}};function tt(a,r){return We(a,et)}/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]],at=Ie("SlidersHorizontal",st);var xe=["PageUp","PageDown"],fe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],ge={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},F="Slider",[ee,rt,nt]=qe(F),[pe,es]=Le(F,[nt]),[it,G]=pe(F),ve=h.forwardRef((a,r)=>{const{name:n,min:i=0,max:d=100,step:c=1,orientation:t="horizontal",disabled:m=!1,minStepsBetweenThumbs:f=0,defaultValue:j=[i],value:o,onValueChange:l=()=>{},onValueCommit:u=()=>{},inverted:y=!1,form:N,...S}=a,b=h.useRef(new Set),v=h.useRef(0),p=t==="horizontal"?ot:lt,[x=[],D]=Ke({prop:o,defaultProp:j,onChange:w=>{[...b.current][v.current]?.focus(),l(w)}}),E=h.useRef(x);function M(w){const C=ht(x,w);I(w,C)}function U(w){I(w,v.current)}function J(){const w=E.current[v.current];x[v.current]!==w&&u(x)}function I(w,C,{commit:T}={commit:!1}){const K=pt(c),H=vt(Math.round((w-i)/c)*c+i,K),_=he(H,[i,d]);D((A=[])=>{const k=mt(A,_,C);if(gt(k,f*c)){v.current=k.indexOf(_);const q=String(k)!==String(A);return q&&T&&u(k),q?k:A}else return A})}return e.jsx(it,{scope:a.__scopeSlider,name:n,disabled:m,min:i,max:d,valueIndexToChangeRef:v,thumbs:b.current,values:x,orientation:t,form:N,children:e.jsx(ee.Provider,{scope:a.__scopeSlider,children:e.jsx(ee.Slot,{scope:a.__scopeSlider,children:e.jsx(p,{"aria-disabled":m,"data-disabled":m?"":void 0,...S,ref:r,onPointerDown:B(S.onPointerDown,()=>{m||(E.current=x)}),min:i,max:d,inverted:y,onSlideStart:m?void 0:M,onSlideMove:m?void 0:U,onSlideEnd:m?void 0:J,onHomeKeyDown:()=>!m&&I(i,0,{commit:!0}),onEndKeyDown:()=>!m&&I(d,x.length-1,{commit:!0}),onStepKeyDown:({event:w,direction:C})=>{if(!m){const H=xe.includes(w.key)||w.shiftKey&&fe.includes(w.key)?10:1,_=v.current,A=x[_],k=c*H*C;I(A+k,_,{commit:!0})}}})})})})});ve.displayName=F;var[be,je]=pe(F,{startEdge:"left",endEdge:"right",size:"width",direction:1}),ot=h.forwardRef((a,r)=>{const{min:n,max:i,dir:d,inverted:c,onSlideStart:t,onSlideMove:m,onSlideEnd:f,onStepKeyDown:j,...o}=a,[l,u]=h.useState(null),y=V(r,p=>u(p)),N=h.useRef(void 0),S=$e(d),b=S==="ltr",v=b&&!c||!b&&c;function g(p){const x=N.current||l.getBoundingClientRect(),D=[0,x.width],M=ae(D,v?[n,i]:[i,n]);return N.current=x,M(p-x.left)}return e.jsx(be,{scope:a.__scopeSlider,startEdge:v?"left":"right",endEdge:v?"right":"left",direction:v?1:-1,size:"width",children:e.jsx(ye,{dir:S,"data-orientation":"horizontal",...o,ref:y,style:{...o.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:p=>{const x=g(p.clientX);t?.(x)},onSlideMove:p=>{const x=g(p.clientX);m?.(x)},onSlideEnd:()=>{N.current=void 0,f?.()},onStepKeyDown:p=>{const D=ge[v?"from-left":"from-right"].includes(p.key);j?.({event:p,direction:D?-1:1})}})})}),lt=h.forwardRef((a,r)=>{const{min:n,max:i,inverted:d,onSlideStart:c,onSlideMove:t,onSlideEnd:m,onStepKeyDown:f,...j}=a,o=h.useRef(null),l=V(r,o),u=h.useRef(void 0),y=!d;function N(S){const b=u.current||o.current.getBoundingClientRect(),v=[0,b.height],p=ae(v,y?[i,n]:[n,i]);return u.current=b,p(S-b.top)}return e.jsx(be,{scope:a.__scopeSlider,startEdge:y?"bottom":"top",endEdge:y?"top":"bottom",size:"height",direction:y?1:-1,children:e.jsx(ye,{"data-orientation":"vertical",...j,ref:l,style:{...j.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:S=>{const b=N(S.clientY);c?.(b)},onSlideMove:S=>{const b=N(S.clientY);t?.(b)},onSlideEnd:()=>{u.current=void 0,m?.()},onStepKeyDown:S=>{const v=ge[y?"from-bottom":"from-top"].includes(S.key);f?.({event:S,direction:v?-1:1})}})})}),ye=h.forwardRef((a,r)=>{const{__scopeSlider:n,onSlideStart:i,onSlideMove:d,onSlideEnd:c,onHomeKeyDown:t,onEndKeyDown:m,onStepKeyDown:f,...j}=a,o=G(F,n);return e.jsx($.span,{...j,ref:r,onKeyDown:B(a.onKeyDown,l=>{l.key==="Home"?(t(l),l.preventDefault()):l.key==="End"?(m(l),l.preventDefault()):xe.concat(fe).includes(l.key)&&(f(l),l.preventDefault())}),onPointerDown:B(a.onPointerDown,l=>{const u=l.target;u.setPointerCapture(l.pointerId),l.preventDefault(),o.thumbs.has(u)?u.focus():i(l)}),onPointerMove:B(a.onPointerMove,l=>{l.target.hasPointerCapture(l.pointerId)&&d(l)}),onPointerUp:B(a.onPointerUp,l=>{const u=l.target;u.hasPointerCapture(l.pointerId)&&(u.releasePointerCapture(l.pointerId),c(l))})})}),Se="SliderTrack",we=h.forwardRef((a,r)=>{const{__scopeSlider:n,...i}=a,d=G(Se,n);return e.jsx($.span,{"data-disabled":d.disabled?"":void 0,"data-orientation":d.orientation,...i,ref:r})});we.displayName=Se;var te="SliderRange",Ne=h.forwardRef((a,r)=>{const{__scopeSlider:n,...i}=a,d=G(te,n),c=je(te,n),t=h.useRef(null),m=V(r,t),f=d.values.length,j=d.values.map(u=>Ce(u,d.min,d.max)),o=f>1?Math.min(...j):0,l=100-Math.max(...j);return e.jsx($.span,{"data-orientation":d.orientation,"data-disabled":d.disabled?"":void 0,...i,ref:m,style:{...a.style,[c.startEdge]:o+"%",[c.endEdge]:l+"%"}})});Ne.displayName=te;var se="SliderThumb",_e=h.forwardRef((a,r)=>{const n=rt(a.__scopeSlider),[i,d]=h.useState(null),c=V(r,m=>d(m)),t=h.useMemo(()=>i?n().findIndex(m=>m.ref.current===i):-1,[n,i]);return e.jsx(ct,{...a,ref:c,index:t})}),ct=h.forwardRef((a,r)=>{const{__scopeSlider:n,index:i,name:d,...c}=a,t=G(se,n),m=je(se,n),[f,j]=h.useState(null),o=V(r,g=>j(g)),l=f?t.form||!!f.closest("form"):!0,u=Be(f),y=t.values[i],N=y===void 0?0:Ce(y,t.min,t.max),S=ut(i,t.values.length),b=u?.[m.size],v=b?xt(b,N,m.direction):0;return h.useEffect(()=>{if(f)return t.thumbs.add(f),()=>{t.thumbs.delete(f)}},[f,t.thumbs]),e.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[m.startEdge]:`calc(${N}% + ${v}px)`},children:[e.jsx(ee.ItemSlot,{scope:a.__scopeSlider,children:e.jsx($.span,{role:"slider","aria-label":a["aria-label"]||S,"aria-valuemin":t.min,"aria-valuenow":y,"aria-valuemax":t.max,"aria-orientation":t.orientation,"data-orientation":t.orientation,"data-disabled":t.disabled?"":void 0,tabIndex:t.disabled?void 0:0,...c,ref:o,style:y===void 0?{display:"none"}:a.style,onFocus:B(a.onFocus,()=>{t.valueIndexToChangeRef.current=i})})}),l&&e.jsx(Pe,{name:d??(t.name?t.name+(t.values.length>1?"[]":""):void 0),form:t.form,value:y},i)]})});_e.displayName=se;var dt="RadioBubbleInput",Pe=h.forwardRef(({__scopeSlider:a,value:r,...n},i)=>{const d=h.useRef(null),c=V(d,i),t=Ue(r);return h.useEffect(()=>{const m=d.current;if(!m)return;const f=window.HTMLInputElement.prototype,o=Object.getOwnPropertyDescriptor(f,"value").set;if(t!==r&&o){const l=new Event("input",{bubbles:!0});o.call(m,r),m.dispatchEvent(l)}},[t,r]),e.jsx($.input,{style:{display:"none"},...n,ref:c,defaultValue:r})});Pe.displayName=dt;function mt(a=[],r,n){const i=[...a];return i[n]=r,i.sort((d,c)=>d-c)}function Ce(a,r,n){const c=100/(n-r)*(a-r);return he(c,[0,100])}function ut(a,r){return r>2?`Value ${a+1} of ${r}`:r===2?["Minimum","Maximum"][a]:void 0}function ht(a,r){if(a.length===1)return 0;const n=a.map(d=>Math.abs(d-r)),i=Math.min(...n);return n.indexOf(i)}function xt(a,r,n){const i=a/2,c=ae([0,50],[0,i]);return(i-c(r)*n)*n}function ft(a){return a.slice(0,-1).map((r,n)=>a[n+1]-r)}function gt(a,r){if(r>0){const n=ft(a);return Math.min(...n)>=r}return!0}function ae(a,r){return n=>{if(a[0]===a[1]||r[0]===r[1])return r[0];const i=(r[1]-r[0])/(a[1]-a[0]);return r[0]+i*(n-a[0])}}function pt(a){return(String(a).split(".")[1]||"").length}function vt(a,r){const n=Math.pow(10,r);return Math.round(a*n)/n}var ke=ve,bt=we,jt=Ne,yt=_e;const Re=h.forwardRef(({className:a,...r},n)=>e.jsxs(ke,{ref:n,className:Ve("relative flex w-full touch-none select-none items-center",a),...r,children:[e.jsx(bt,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:e.jsx(jt,{className:"absolute h-full bg-primary"})}),e.jsx(yt,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Re.displayName=ke.displayName;const St=({endpoint:a,perPage:r=10,initialSearch:n="",initialFilters:i={},staleTime:d=120*1e3,gcTime:c=300*1e3})=>{const[t,m]=h.useState({search:n,filters:i}),f=["user","infinite",a,t],j=h.useCallback(async({pageParam:g=1})=>{const p=new URLSearchParams;p.append("page",g.toString()),p.append("per_page",r.toString()),t.search&&p.append("search",t.search),Object.entries(t.filters).forEach(([E,M])=>{M&&M!=="all"&&p.append(E,M)});const x=await fetch(`${a}?${p.toString()}`);if(!x.ok)throw new Error("Failed to fetch data");return await x.json()},[a,r,t]),o=tt({queryKey:f,queryFn:j,getNextPageParam:g=>{if(g.current_page<g.last_page)return g.current_page+1},staleTime:d,gcTime:c,refetchOnWindowFocus:!1,retry:1}),l=o.data?.pages.flatMap(g=>g.data)||[],u=o.data?.pages[o.data.pages.length-1],y=u?{current_page:u.current_page,last_page:u.last_page,per_page:u.per_page,total:u.total,from:u.from,to:u.to}:null,N=h.useCallback(g=>{m(p=>({...p,search:g})),o.refetch()},[o]),S=h.useCallback(g=>{m(p=>({...p,filters:g})),o.refetch()},[o]),b=h.useCallback((g,p)=>{m(x=>({...x,filters:{...x.filters,[g]:p}})),o.refetch()},[o]),v=h.useCallback(()=>{o.hasNextPage&&!o.isFetchingNextPage&&o.fetchNextPage()},[o]);return{data:l,pagination:y,isLoading:o.isLoading,isError:o.isError,error:o.error,hasNextPage:o.hasNextPage,isFetchingNextPage:o.isFetchingNextPage,scrollState:t,setSearch:N,setFilters:S,updateFilter:b,loadMore:v,refetch:o.refetch}},ts=({products:a,categories:r,governorates:n,conditions:i,priceTypes:d,filters:c})=>{const{language:t}=Fe(),{isAuthenticated:m}=Te(),{isFavorited:f,toggleFavorite:j,loading:o}=Qe(),[l,u]=h.useState(!1),{data:y,pagination:N,isLoading:S,hasNextPage:b,isFetchingNextPage:v,scrollState:g,setSearch:p,updateFilter:x,loadMore:D}=St({endpoint:"/api/user/products",perPage:5,initialSearch:c?.search||"",initialFilters:{category:c?.category||"all",governorate_id:c?.governorate_id||"all",condition_id:c?.condition_id||"all",price_type_id:c?.price_type_id||"all",min_price:c?.min_price||"",max_price:c?.max_price||"",is_negotiable:c?.is_negotiable||"all",sort:c?.sort||"newest"}}),E=y?.length>0?{data:y}:{...a,data:a?.data?.slice(0,5)||[]},M=N||{total:a?.total||0,to:Math.min(5,a?.data?.length||0),last_page:Math.ceil((a?.total||0)/5)},U=r||[],J=n||[],I=i||[],w=d||[],[C,T]=h.useState(!1),[K,H]=h.useState([0,1e4]);h.useEffect(()=>{const s=new IntersectionObserver(Ee=>{Ee[0].isIntersecting&&b&&!v&&D()},{root:null,rootMargin:"100px",threshold:.1}),P=document.getElementById("infinite-scroll-sentinel");return P&&s.observe(P),()=>{P&&s.unobserve(P)}},[b,v,D]);const _=U.find(s=>s.slug===g.filters.category),A=s=>{x("category",s)},k=async s=>{if(!m){u(!0);return}try{await j(s)}catch(P){console.error("Error toggling favorite:",P)}},q=s=>{x("sort",s)},De=s=>{H(s),x("min_price",s[0].toString()),x("max_price",s[1].toString())};return S&&!E?e.jsx(le,{children:e.jsxs("div",{className:"bg-background min-h-screen",children:[e.jsx(ne,{}),e.jsx("main",{className:"main-content py-16",children:e.jsx("div",{className:"flex h-64 items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ge,{className:"mx-auto h-8 w-8 animate-spin"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Loading products..."})]})})}),e.jsx(ie,{})]})}):e.jsxs(le,{children:[e.jsx(He,{title:"Products"}),e.jsxs("div",{className:"bg-background min-h-screen",children:[e.jsx(ne,{}),e.jsx("main",{className:"main-content py-16",children:e.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[e.jsxs("nav",{className:`text-muted-foreground mb-6 flex items-center space-x-2 text-sm ${t==="ar"?"rtl space-x-reverse":""}`,children:[e.jsx("span",{onClick:()=>Z.visit(Xe.home()),className:"hover:text-luxury-black cursor-pointer transition-colors",children:t==="ar"?"الرئيسية":"Home"}),e.jsx(Je,{className:"h-4 w-4"}),e.jsx("span",{className:"text-luxury-black font-medium",children:t==="ar"?_?.name_ar:_?.name_en})]}),e.jsxs("div",{className:`mb-8 ${t==="ar"?"rtl":""}`,children:[e.jsx("h1",{className:`text-luxury-black mb-2 text-3xl font-bold md:text-4xl ${t==="ar"?"font-arabic":"font-serif"}`,children:t==="ar"?_?.name_ar||"All Products":_?.name_en||"All Products"}),e.jsxs("p",{className:"text-muted-foreground",children:[t==="ar"?"منتج متاح":"products available"," ",M?.total||0]})]}),e.jsx("div",{className:"mb-6 overflow-x-auto",children:e.jsxs("div",{className:"flex min-w-max space-x-2 pb-2",children:[e.jsx(O,{variant:g.filters.category==="all"?"default":"secondary",size:"sm",onClick:()=>A("all"),className:"whitespace-nowrap",children:t==="ar"?"جميع الفئات":"All Categories"}),U.map(s=>e.jsx(O,{variant:g.filters.category===s.slug?"default":"secondary",size:"sm",onClick:()=>A(s.slug),className:"whitespace-nowrap",children:t==="ar"?s.name_ar:s.name_en},s.slug))]})}),e.jsxs("div",{className:`mb-8 flex flex-col gap-4 md:flex-row ${t==="ar"?"rtl":""}`,children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Ze,{className:"text-muted-foreground absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 transform"}),e.jsx(ze,{placeholder:t==="ar"?"البحث في المنتجات...":"Search products...",value:g.search,onChange:s=>p(s.target.value),className:"pl-10"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(O,{variant:"outline",onClick:()=>T(!C),className:"border-luxury-black/20",children:[e.jsx(at,{className:"mr-2 h-4 w-4"}),t==="ar"?"فلاتر":"Filters"]}),e.jsxs(Q,{value:g.filters.sort,onValueChange:q,children:[e.jsx(Y,{className:"w-40",children:e.jsx(W,{})}),e.jsxs(X,{children:[e.jsx(R,{value:"newest",children:t==="ar"?"الأحدث":"Newest"}),e.jsx(R,{value:"price-high",children:t==="ar"?"السعر: عالي لمنخفض":"Price: High to Low"}),e.jsx(R,{value:"price-low",children:t==="ar"?"السعر: منخفض لعالي":"Price: Low to High"}),e.jsx(R,{value:"popular",children:t==="ar"?"الأكثر شعبية":"Most Popular"})]})]})]})]}),C&&e.jsx(z,{className:"mb-8 p-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"mb-2 block text-sm font-medium",children:t==="ar"?"نطاق السعر":"Price Range"}),e.jsx(Re,{value:K,onValueChange:De,max:1e4,step:100,className:"mb-2"}),e.jsxs("div",{className:"text-muted-foreground flex justify-between text-sm",children:[e.jsxs("span",{children:[K[0]," KD"]}),e.jsxs("span",{children:[K[1]," KD"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-2 block text-sm font-medium",children:t==="ar"?"الموقع":"Location"}),e.jsxs(Q,{value:g.filters.governorate_id,onValueChange:s=>x("governorate_id",s),children:[e.jsx(Y,{children:e.jsx(W,{placeholder:t==="ar"?"اختر الموقع":"Select location"})}),e.jsxs(X,{children:[e.jsx(R,{value:"all",children:t==="ar"?"جميع المواقع":"All Locations"}),J.map(s=>e.jsx(R,{value:s.id.toString(),children:t==="ar"?s.name_ar:s.name_en},s.id))]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-2 block text-sm font-medium",children:t==="ar"?"الحالة":"Condition"}),e.jsxs(Q,{value:g.filters.condition_id,onValueChange:s=>x("condition_id",s),children:[e.jsx(Y,{children:e.jsx(W,{placeholder:t==="ar"?"اختر الحالة":"Select condition"})}),e.jsxs(X,{children:[e.jsx(R,{value:"all",children:t==="ar"?"جميع الحالات":"All Conditions"}),I.map(s=>e.jsx(R,{value:s.id.toString(),children:t==="ar"?s.name_ar:s.name_en},s.id))]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-2 block text-sm font-medium",children:t==="ar"?"نوع السعر":"Price Type"}),e.jsxs(Q,{value:g.filters.price_type_id,onValueChange:s=>x("price_type_id",s),children:[e.jsx(Y,{children:e.jsx(W,{placeholder:t==="ar"?"اختر نوع السعر":"Select price type"})}),e.jsxs(X,{children:[e.jsx(R,{value:"all",children:t==="ar"?"جميع الأنواع":"All Types"}),w.map(s=>e.jsx(R,{value:s.id.toString(),children:t==="ar"?s.name_ar:s.name_en},s.id))]})]})]})]})}),e.jsx("div",{className:"mb-12 hidden grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 md:grid",children:E?.data?.map(s=>(console.log(s),e.jsxs(z,{className:"hover:shadow-luxury group cursor-pointer overflow-hidden transition-all duration-300",onClick:()=>Z.visit(ce(s.id,{query:_?{selected_category:_.slug}:{}})),children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:s.primaryImage?.url||"/placeholder-product.svg",alt:t==="ar"?s.title_ar:s.title_en,className:"h-64 w-full object-cover transition-transform duration-300 group-hover:scale-105"}),s.is_featured&&e.jsxs(L,{className:"bg-luxury-gold text-luxury-black absolute left-3 top-3",children:[e.jsx(de,{className:"mr-1 h-3 w-3"}),t==="ar"?"مميز":"Featured"]}),e.jsx(O,{variant:"outline",size:"icon",className:`absolute right-3 top-3 h-8 w-8 border-none bg-white/90 hover:bg-white ${f(s.id)?"text-brand-red-600":""}`,onClick:P=>{P.stopPropagation(),k(s.id)},disabled:o,children:e.jsx(me,{className:`h-4 w-4 ${f(s.id)?"fill-current":""}`})})]}),e.jsx(oe,{className:"p-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex items-start justify-between",children:e.jsx("h3",{className:"text-luxury-black line-clamp-2 text-sm font-semibold",children:t==="ar"?s.title_ar:s.title_en})}),e.jsx("p",{className:"text-muted-foreground text-xs",children:s.category?.name_en}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-luxury-black text-lg font-bold",children:[s.price," ",s.priceType?.name_en||"KD"]}),s.is_negotiable&&e.jsx(L,{variant:"outline",className:"text-xs",children:t==="ar"?"قابل للتفاوض":"Negotiable"})]}),e.jsx(L,{variant:"secondary",className:"text-xs",children:t==="ar"?s.condition?.name_ar:s.condition?.name_en})]})}),e.jsxs("div",{className:"text-muted-foreground flex items-center justify-between border-t pt-2 text-xs",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ue,{className:"mr-1 h-3 w-3"}),t==="ar"?s.governorate?.name_ar:s.governorate?.name_en]}),e.jsx("span",{children:new Date(s.created_at).toLocaleDateString()})]})]})})]},s.id)))}),e.jsx("div",{className:"mb-12 space-y-2 md:hidden",children:E?.data?.map(s=>e.jsx(z,{className:"group cursor-pointer overflow-hidden transition-all duration-300 hover:shadow-lg active:scale-[0.98]",onClick:()=>Z.visit(ce(s.id,{query:_?{selected_category:_.slug}:{}})),children:e.jsxs("div",{className:"flex gap-3 p-3",children:[e.jsxs("div",{className:"relative flex-shrink-0",children:[e.jsx("img",{src:s.primaryImage?.url||"/placeholder-product.svg",alt:t==="ar"?s.title_ar:s.title_en,className:"h-20 w-20 rounded-lg object-cover"}),s.is_featured&&e.jsxs(L,{className:"bg-luxury-gold text-luxury-black absolute -left-1 -top-1 px-1.5 py-0.5 text-xs font-medium",children:[e.jsx(de,{className:"mr-0.5 h-2.5 w-2.5"}),t==="ar"?"مميز":"Featured"]})]}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"mb-2 flex items-start justify-between",children:[e.jsxs("div",{className:"min-w-0 flex-1 pr-2",children:[e.jsx("h3",{className:"text-luxury-black line-clamp-2 text-sm font-semibold leading-tight",children:t==="ar"?s.title_ar:s.title_en}),e.jsx("p",{className:"text-muted-foreground text-xs mt-0.5",children:s.category?.name_en})]}),e.jsx(O,{variant:"ghost",size:"icon",className:"h-7 w-7 flex-shrink-0 p-0",onClick:P=>{P.stopPropagation(),k(s.id)},disabled:o,children:e.jsx(me,{className:`h-4 w-4 ${f(s.id)?"fill-current text-red-500":"text-gray-400"}`})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-luxury-black text-lg font-bold",children:[s.price," ",s.priceType?.name_en||"KD"]}),s.is_negotiable&&e.jsx(L,{variant:"outline",className:"text-xs px-1.5 py-0.5",children:t==="ar"?"قابل للتفاوض":"Negotiable"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(L,{variant:"secondary",className:"text-xs px-2 py-0.5",children:t==="ar"?s.condition?.name_ar:s.condition?.name_en}),e.jsxs("div",{className:"text-muted-foreground flex items-center text-xs",children:[e.jsx(ue,{className:"mr-1 h-3 w-3"}),t==="ar"?s.governorate?.name_ar:s.governorate?.name_en]})]}),e.jsx("div",{className:"text-muted-foreground text-xs",children:new Date(s.created_at).toLocaleDateString()})]})]})]})},s.id))}),e.jsx("div",{id:"infinite-scroll-sentinel",className:"h-4"}),v&&e.jsx("div",{className:"mb-12 space-y-2 md:hidden",children:[...Array(5)].map((s,P)=>e.jsx(z,{className:"animate-pulse",children:e.jsxs("div",{className:"flex gap-3 p-3",children:[e.jsx("div",{className:"h-20 w-20 bg-gray-200 rounded-lg flex-shrink-0"}),e.jsxs("div",{className:"min-w-0 flex-1 space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"}),e.jsx("div",{className:"h-5 bg-gray-200 rounded w-1/4"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]})]})},`skeleton-mobile-${P}`))}),v&&e.jsx("div",{className:"mb-12 hidden grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 md:grid",children:[...Array(5)].map((s,P)=>e.jsxs(z,{className:"animate-pulse",children:[e.jsx("div",{className:"h-64 bg-gray-200"}),e.jsxs(oe,{className:"p-4 space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"}),e.jsx("div",{className:"h-5 bg-gray-200 rounded w-1/4"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]})]},`skeleton-desktop-${P}`))})]})}),e.jsx(ie,{})]}),e.jsx(Oe,{isOpen:l,onClose:()=>u(!1),onSuccess:()=>u(!1)})]})};export{ts as default};
