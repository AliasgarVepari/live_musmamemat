import{b as te,r as l,j as e,c as V,n as ie,E as f,X as F}from"./app-x7miKmXv.js";import{C as x,b as p,c as u,a as h}from"./card-ClYTSLVv.js";import{I as S,B as _,L as pe,a as L}from"./Header-Lhejv4qF.js";import{S as G,a as z,b as O,c as H,d as M}from"./select-CIfdonq7.js";import{R as ne,T as ue}from"./index-wgqjO4rY.js";import{C as Z}from"./check-Cu4PBQs2.js";import{P as re}from"./plus-C67xrfO3.js";import{U as ge}from"./upload-CR9ZU0ch.js";import{S as ae}from"./star-Btc6tnSK.js";import{C as be}from"./crown-BXEFPuDe.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Ie=te("House",fe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Ne=te("Zap",je),J=l.forwardRef(({className:t,...m},N)=>e.jsx("textarea",{className:V("flex min-h-[80px] w-full rounded-md border border-brand-red-200 bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-red-600 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:N,...m}));J.displayName="Textarea";const ce=l.forwardRef(({className:t,...m},N)=>e.jsx(ne,{className:V("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:border-primary data-[state=unchecked]:bg-white data-[state=unchecked]:border-brand-red-200",t),...m,ref:N,children:e.jsx(ue,{className:V("pointer-events-none block h-5 w-5 rounded-full shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=checked]:bg-white data-[state=unchecked]:translate-x-0 data-[state=unchecked]:bg-brand-red-600")})}));ce.displayName=ne.displayName;const Ae=({formData:t,updateFormData:m,isSubmitting:N=!1})=>{const{language:s,t:de}=ie(),[T,y]=l.useState(!1),[X,E]=l.useState(!1),[c,w]=l.useState({});l.useEffect(()=>{console.log("ProductDetails formData changed:",t)},[t]);const[P,k]=l.useState([]),[n,d]=l.useState([]),[o,j]=l.useState(""),[$,Q]=l.useState(""),[B,W]=l.useState([]),[U,Y]=l.useState([]),[R,D]=l.useState([]);l.useEffect(()=>{(async()=>{E(!0);try{const[a,i,v]=await Promise.all([fetch("/api/user/conditions"),fetch("/api/user/governorates"),fetch("/api/user/price-types")]),[g,A,C]=await Promise.all([a.json(),i.json(),v.json()]);W(g.conditions||g||[]),Y(A.governorates||A||[]),D(C.priceTypes||C.price_types||C||[])}catch(a){console.error("Error loading data:",a),W([]),Y([]),D([])}finally{E(!1)}})()},[]),l.useEffect(()=>{if(t.product_details_en){const r=t.product_details_en.split(`
`).filter(a=>a.trim());k(r)}if(t.product_details_ar){const r=t.product_details_ar.split(`
`).filter(a=>a.trim());d(r)}},[t.product_details_en,t.product_details_ar]);const ee=async r=>{if(!r)return;const a=Array.from(r),i=t.images||[];if(i.length+a.length<=10){const g=await Promise.all(a.map(A=>new Promise(C=>{const K=new FileReader;K.onload=()=>C(K.result),K.readAsDataURL(A)})));m({images:[...i,...g]})}},le=r=>{const i=(t.images||[]).filter((v,g)=>g!==r);m({images:i})},oe=r=>{r.preventDefault(),y(!1),ee(r.dataTransfer.files)},me=r=>{r.preventDefault(),y(!0)},xe=r=>{r.preventDefault(),y(!1)},he=(r,a)=>{const i={...c};switch(r){case"title_en":!a||a.trim().length<3?i.title_en=s==="ar"?"العنوان الإنجليزي مطلوب (3 أحرف على الأقل)":"English title is required (minimum 3 characters)":delete i.title_en;break;case"title_ar":!a||a.trim().length<3?i.title_ar=s==="ar"?"العنوان العربي مطلوب (3 أحرف على الأقل)":"Arabic title is required (minimum 3 characters)":delete i.title_ar;break;case"description_en":!a||a.trim().length<10?i.description_en=s==="ar"?"الوصف الإنجليزي مطلوب (10 أحرف على الأقل)":"English description is required (minimum 10 characters)":delete i.description_en;break;case"description_ar":!a||a.trim().length<10?i.description_ar=s==="ar"?"الوصف العربي مطلوب (10 أحرف على الأقل)":"Arabic description is required (minimum 10 characters)":delete i.description_ar;break;case"price":!a||isNaN(Number(a))||Number(a)<0?i.price=s==="ar"?"السعر مطلوب ويجب أن يكون رقم صحيح":"Price is required and must be a valid number":delete i.price;break;case"condition_id":a?delete i.condition_id:i.condition_id=s==="ar"?"حالة المنتج مطلوبة":"Product condition is required";break;case"governorate_id":a?delete i.governorate_id:i.governorate_id=s==="ar"?"الموقع مطلوب":"Location is required";break;case"price_type_id":a?delete i.price_type_id:i.price_type_id=s==="ar"?"نوع السعر مطلوب":"Price type is required";break}w(i)},b=(r,a)=>{console.log("ProductDetails handleInputChange:",r,a),m({[r]:a}),he(r,a)},I=r=>{const a=r==="en"?o:$;if(a.trim())if(r==="en"){const i=[...P,a.trim()];k(i),j(""),m({product_details_en:i.join(`
`)})}else{const i=[...n,a.trim()];d(i),Q(""),m({product_details_ar:i.join(`
`)})}},se=(r,a)=>{if(a==="en"){const i=P.filter((v,g)=>g!==r);k(i),m({product_details_en:i.join(`
`)})}else{const i=n.filter((v,g)=>g!==r);d(i),m({product_details_ar:i.join(`
`)})}},q=r=>s==="ar"?r.name_ar:r.name_en;return e.jsxs("div",{className:`space-y-6 ${s==="ar"?"rtl":"ltr"}`,children:[e.jsxs(x,{children:[e.jsx(p,{children:e.jsx(u,{className:s==="ar"?"font-arabic":"",children:s==="ar"?"عنوان المنتج (إنجليزي)":"Product Title (English)"})}),e.jsx(h,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{value:t.title_en||"",onChange:r=>b("title_en",r.target.value),placeholder:s==="ar"?"أدخل عنوان المنتج بالإنجليزية":"Enter product title in English",className:`border-brand-red-200 focus:border-brand-red-600 focus:ring-brand-red-600 ${c.title_en?"border-red-500":""}`}),c.title_en&&e.jsxs("div",{className:"flex items-center gap-2 text-red-500 text-sm",children:[e.jsx(f,{className:"h-4 w-4"}),e.jsx("span",{className:s==="ar"?"font-arabic":"",children:c.title_en})]})]})})]}),e.jsxs(x,{children:[e.jsx(p,{children:e.jsx(u,{className:s==="ar"?"font-arabic":"",children:s==="ar"?"عنوان المنتج (عربي)":"Product Title (Arabic)"})}),e.jsx(h,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{value:t.title_ar||"",onChange:r=>b("title_ar",r.target.value),placeholder:s==="ar"?"أدخل عنوان المنتج بالعربية":"Enter product title in Arabic",className:`border-brand-red-200 focus:border-brand-red-600 focus:ring-brand-red-600 ${c.title_ar?"border-red-500":""}`,dir:"rtl"}),c.title_ar&&e.jsxs("div",{className:"flex items-center gap-2 text-red-500 text-sm",children:[e.jsx(f,{className:"h-4 w-4"}),e.jsx("span",{className:s==="ar"?"font-arabic":"",children:c.title_ar})]})]})})]}),e.jsxs(x,{children:[e.jsx(p,{children:e.jsx(u,{className:s==="ar"?"font-arabic":"",children:s==="ar"?"وصف المنتج (إنجليزي)":"Product Description (English)"})}),e.jsx(h,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(J,{value:t.description_en||"",onChange:r=>b("description_en",r.target.value),placeholder:s==="ar"?"أدخل وصف المنتج بالإنجليزية":"Enter product description in English",className:`border-brand-red-200 focus:border-brand-red-600 focus:ring-brand-red-600 ${c.description_en?"border-red-500":""}`,rows:4}),c.description_en&&e.jsxs("div",{className:"flex items-center gap-2 text-red-500 text-sm",children:[e.jsx(f,{className:"h-4 w-4"}),e.jsx("span",{className:s==="ar"?"font-arabic":"",children:c.description_en})]})]})})]}),e.jsxs(x,{children:[e.jsx(p,{children:e.jsx(u,{className:s==="ar"?"font-arabic":"",children:s==="ar"?"وصف المنتج (عربي)":"Product Description (Arabic)"})}),e.jsx(h,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(J,{value:t.description_ar||"",onChange:r=>b("description_ar",r.target.value),placeholder:s==="ar"?"أدخل وصف المنتج بالعربية":"Enter product description in Arabic",className:`border-brand-red-200 focus:border-brand-red-600 focus:ring-brand-red-600 ${c.description_ar?"border-red-500":""}`,rows:4,dir:"rtl"}),c.description_ar&&e.jsxs("div",{className:"flex items-center gap-2 text-red-500 text-sm",children:[e.jsx(f,{className:"h-4 w-4"}),e.jsx("span",{className:s==="ar"?"font-arabic":"",children:c.description_ar})]})]})})]}),e.jsxs(x,{children:[e.jsx(p,{children:e.jsx(u,{className:s==="ar"?"font-arabic":"",children:s==="ar"?"تفاصيل المنتج (إنجليزي)":"Product Details (English)"})}),e.jsx(h,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"space-y-2",children:P.map((r,a)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx(Z,{className:"h-5 w-5 text-green-600 flex-shrink-0"}),e.jsx("span",{className:"flex-1 text-sm",children:r}),e.jsx(_,{type:"button",variant:"ghost",size:"sm",onClick:()=>se(a,"en"),className:"h-8 w-8 p-0 text-red-500 hover:text-red-700 hover:bg-red-50",children:e.jsx(F,{className:"h-4 w-4"})})]},a))}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(S,{value:o,onChange:r=>j(r.target.value),placeholder:s==="ar"?"أدخل تفصيل جديد":"Enter new detail",className:"flex-1 border-brand-red-200 focus:border-brand-red-600 focus:ring-brand-red-600",onKeyPress:r=>r.key==="Enter"&&I("en")}),e.jsx(_,{type:"button",onClick:()=>I("en"),className:"bg-brand-red-600 hover:bg-brand-red-700",disabled:!o.trim(),children:e.jsx(re,{className:"h-4 w-4"})})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s==="ar"?"يمكنك إضافة تفاصيل مثل المواصفات، الأبعاد، الماركة، إلخ":"Add details like specifications, dimensions, brand, etc."})]})})]}),e.jsxs(x,{children:[e.jsx(p,{children:e.jsx(u,{className:s==="ar"?"font-arabic":"",children:s==="ar"?"تفاصيل المنتج (عربي)":"Product Details (Arabic)"})}),e.jsx(h,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"space-y-2",children:n.map((r,a)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx(Z,{className:"h-5 w-5 text-green-600 flex-shrink-0"}),e.jsx("span",{className:`flex-1 text-sm ${s==="ar"?"font-arabic":""}`,children:r}),e.jsx(_,{type:"button",variant:"ghost",size:"sm",onClick:()=>se(a,"ar"),className:"h-8 w-8 p-0 text-red-500 hover:text-red-700 hover:bg-red-50",children:e.jsx(F,{className:"h-4 w-4"})})]},a))}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(S,{value:$,onChange:r=>Q(r.target.value),placeholder:s==="ar"?"أدخل تفصيل جديد":"Enter new detail",className:"flex-1 border-brand-red-200 focus:border-brand-red-600 focus:ring-brand-red-600",dir:"rtl",onKeyPress:r=>r.key==="Enter"&&I("ar")}),e.jsx(_,{type:"button",onClick:()=>I("ar"),className:"bg-brand-red-600 hover:bg-brand-red-700",disabled:!$.trim(),children:e.jsx(re,{className:"h-4 w-4"})})]}),e.jsx("p",{className:`text-sm text-muted-foreground ${s==="ar"?"font-arabic":""}`,children:s==="ar"?"يمكنك إضافة تفاصيل مثل المواصفات، الأبعاد، الماركة، إلخ":"Add details like specifications, dimensions, brand, etc."})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(x,{children:[e.jsx(p,{children:e.jsx(u,{className:s==="ar"?"font-arabic":"",children:s==="ar"?"السعر":"Price"})}),e.jsx(h,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{type:"number",value:t.price||"",onChange:r=>b("price",r.target.value),placeholder:s==="ar"?"أدخل السعر":"Enter price",className:`border-brand-red-200 focus:border-brand-red-600 focus:ring-brand-red-600 ${c.price?"border-red-500":""}`,min:"0",step:"0.01"}),c.price&&e.jsxs("div",{className:"flex items-center gap-2 text-red-500 text-sm",children:[e.jsx(f,{className:"h-4 w-4"}),e.jsx("span",{className:s==="ar"?"font-arabic":"",children:c.price})]})]})})]}),e.jsxs(x,{children:[e.jsx(p,{children:e.jsx(u,{className:s==="ar"?"font-arabic":"",children:s==="ar"?"حالة المنتج":"Product Condition"})}),e.jsx(h,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs(G,{value:t.condition_id?.toString()||"",onValueChange:r=>b("condition_id",parseInt(r)),children:[e.jsx(z,{className:`border-brand-red-200 focus:border-brand-red-600 focus:ring-brand-red-600 ${c.condition_id?"border-red-500":""}`,children:e.jsx(O,{placeholder:s==="ar"?"اختر حالة المنتج":"Select condition"})}),e.jsx(H,{children:B&&B.length>0?B.map(r=>e.jsx(M,{value:r.id.toString(),children:q(r)},r.id)):e.jsx("div",{className:"px-2 py-1.5 text-sm text-muted-foreground",children:s==="ar"?"جاري التحميل...":"Loading..."})})]}),c.condition_id&&e.jsxs("div",{className:"flex items-center gap-2 text-red-500 text-sm",children:[e.jsx(f,{className:"h-4 w-4"}),e.jsx("span",{className:s==="ar"?"font-arabic":"",children:c.condition_id})]})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(x,{children:[e.jsx(p,{children:e.jsx(u,{className:s==="ar"?"font-arabic":"",children:s==="ar"?"الموقع":"Location"})}),e.jsx(h,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs(G,{value:t.governorate_id?.toString()||"",onValueChange:r=>b("governorate_id",parseInt(r)),children:[e.jsx(z,{className:`border-brand-red-200 focus:border-brand-red-600 focus:ring-brand-red-600 ${c.governorate_id?"border-red-500":""}`,children:e.jsx(O,{placeholder:s==="ar"?"اختر الموقع":"Select location"})}),e.jsx(H,{children:U&&U.length>0?U.map(r=>e.jsx(M,{value:r.id.toString(),children:q(r)},r.id)):e.jsx("div",{className:"px-2 py-1.5 text-sm text-muted-foreground",children:s==="ar"?"جاري التحميل...":"Loading..."})})]}),c.governorate_id&&e.jsxs("div",{className:"flex items-center gap-2 text-red-500 text-sm",children:[e.jsx(f,{className:"h-4 w-4"}),e.jsx("span",{className:s==="ar"?"font-arabic":"",children:c.governorate_id})]})]})})]}),e.jsxs(x,{children:[e.jsx(p,{children:e.jsx(u,{className:s==="ar"?"font-arabic":"",children:s==="ar"?"نوع السعر":"Price Type"})}),e.jsx(h,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs(G,{value:t.price_type_id?.toString()||"",onValueChange:r=>b("price_type_id",parseInt(r)),children:[e.jsx(z,{className:`border-brand-red-200 focus:border-brand-red-600 focus:ring-brand-red-600 ${c.price_type_id?"border-red-500":""}`,children:e.jsx(O,{placeholder:s==="ar"?"اختر نوع السعر":"Select price type"})}),e.jsx(H,{children:R&&R.length>0?R.map(r=>e.jsx(M,{value:r.id.toString(),children:q(r)},r.id)):e.jsx("div",{className:"px-2 py-1.5 text-sm text-muted-foreground",children:s==="ar"?"جاري التحميل...":"Loading..."})})]}),c.price_type_id&&e.jsxs("div",{className:"flex items-center gap-2 text-red-500 text-sm",children:[e.jsx(f,{className:"h-4 w-4"}),e.jsx("span",{className:s==="ar"?"font-arabic":"",children:c.price_type_id})]})]})})]})]}),e.jsxs(x,{children:[e.jsx(p,{children:e.jsx(u,{className:s==="ar"?"font-arabic":"",children:s==="ar"?"السعر قابل للتفاوض":"Price Negotiable"})}),e.jsx(h,{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ce,{id:"negotiable",checked:t.is_negotiable||!1,onCheckedChange:r=>b("is_negotiable",r)}),e.jsx(pe,{htmlFor:"negotiable",className:s==="ar"?"font-arabic":"",children:s==="ar"?"السعر قابل للتفاوض":"Price is negotiable"})]})})]}),e.jsxs(x,{children:[e.jsx(p,{children:e.jsx(u,{className:s==="ar"?"font-arabic":"",children:s==="ar"?"صور المنتج":"Product Images"})}),e.jsxs(h,{children:[e.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${T?"border-primary bg-primary/5":!t.images||t.images.length===0?"border-amber-300 bg-amber-50":"border-muted-foreground/25"}`,onDrop:oe,onDragOver:me,onDragLeave:xe,children:[e.jsx(ge,{className:`mx-auto h-12 w-12 mb-4 ${!t.images||t.images.length===0?"text-amber-500":"text-muted-foreground"}`}),e.jsx("p",{className:`text-lg font-medium mb-2 ${s==="ar"?"font-arabic":""} ${!t.images||t.images.length===0?"text-amber-700":""}`,children:s==="ar"?"اسحب الصور هنا أو انقر للرفع":"Drag images here or click to upload"}),e.jsx("p",{className:`text-sm text-muted-foreground mb-4 ${s==="ar"?"font-arabic":""}`,children:s==="ar"?"PNG, JPG, GIF حتى 5MB لكل صورة":"PNG, JPG, GIF up to 5MB each"}),e.jsx("input",{type:"file",multiple:!0,accept:".jpeg,.jpg,.png,.gif",onChange:r=>ee(r.target.files),className:"hidden",id:"image-upload"}),e.jsx(_,{asChild:!0,children:e.jsx("label",{htmlFor:"image-upload",className:"cursor-pointer",children:s==="ar"?"اختر الصور":"Choose Images"})})]}),(!t.images||t.images.length===0)&&e.jsxs("div",{className:"mt-3 flex items-center gap-2 text-sm text-amber-600",children:[e.jsx(f,{className:"h-4 w-4"}),e.jsx("span",{className:s==="ar"?"font-arabic":"",children:s==="ar"?"يجب رفع صورة واحدة على الأقل":"At least one image is required"})]}),t.images&&t.images.length>0&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h4",{className:`text-sm font-medium mb-3 ${s==="ar"?"font-arabic":""}`,children:s==="ar"?"الصور المرفوعة":"Uploaded Images"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:t.images.map((r,a)=>{const i=r instanceof File?URL.createObjectURL(r):r;return e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:i,alt:`Preview ${a+1}`,className:"w-full h-24 object-cover rounded-lg",onError:v=>{v.currentTarget.style.display="none"}}),e.jsx(_,{size:"sm",variant:"destructive",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full p-0 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>le(a),children:e.jsx(F,{className:"h-3 w-3"})})]},a)})})]})]})]}),N&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 flex flex-col items-center gap-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),e.jsx("p",{className:`text-lg font-medium ${s==="ar"?"font-arabic":""}`,children:s==="ar"?"جاري المعالجة...":"Processing..."}),e.jsx("p",{className:`text-sm text-muted-foreground text-center ${s==="ar"?"font-arabic":""}`,children:s==="ar"?"يرجى الانتظار بينما نقوم بحفظ إعلانك":"Please wait while we save your listing"})]})})]})},Le=({currentSubscription:t,onPlanSelect:m,selectedPlanId:N})=>{const{language:s,t:de}=ie(),[T,y]=l.useState([]),[X,E]=l.useState(!0);l.useEffect(()=>{(async()=>{try{const o=await(await fetch(`/api/user/subscription-plans/upgrade?current_plan_id=${t.plan.id}`)).json();y(o.data||o)}catch(d){console.error("Error loading upgrade plans:",d)}finally{E(!1)}})()},[t.plan.id]);const c=n=>{m(n)},w=n=>s==="ar"?n.name_ar:n.name_en,P=n=>{const d={free:{en:["Up to 5 images","Basic listing","7 days visibility","Standard support"],ar:["حتى 5 صور","إعلان أساسي","ظهور لمدة 7 أيام","دعم قياسي"]},silver:{en:["Up to 10 images","Featured listing","14 days visibility","Priority support","Analytics dashboard"],ar:["حتى 10 صور","إعلان مميز","ظهور لمدة 14 يوم","دعم أولوي","لوحة تحليلات"]},gold:{en:["Unlimited images","Premium listing","30 days visibility","24/7 support","Advanced analytics","Featured placement"],ar:["صور غير محدودة","إعلان مميز","ظهور لمدة 30 يوم","دعم 24/7","تحليلات متقدمة","موضع مميز"]}},o=w(n).toLowerCase();let j="free";return(o.includes("silver")||o.includes("فضي"))&&(j="silver"),(o.includes("gold")||o.includes("ذهبي"))&&(j="gold"),d[j][s]},k=n=>{const d=w(n).toLowerCase();return d.includes("free")||d.includes("مجاني")?Ne:d.includes("silver")||d.includes("فضي")?ae:d.includes("gold")||d.includes("ذهبي")?be:ae};return X?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{className:s==="ar"?"font-arabic":"",children:s==="ar"?"جاري تحميل خطط الترقية...":"Loading upgrade plans..."})]})}):e.jsxs("div",{className:`flex flex-col h-full ${s==="ar"?"rtl":"ltr"}`,children:[e.jsxs("div",{className:"flex-1 space-y-6",children:[e.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 mb-6",children:[e.jsx("h3",{className:`text-lg font-semibold mb-2 ${s==="ar"?"font-arabic":""}`,children:s==="ar"?"خطة الاشتراك الحالية":"Current Subscription Plan"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`font-medium ${s==="ar"?"font-arabic":""}`,children:s==="ar"?t.plan.name_ar:t.plan.name_en}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t.plan.is_lifetime?s==="ar"?"مدى الحياة":"Lifetime":`${s==="ar"?"ينتهي في":"Expires on"} ${new Date(t.expires_at).toLocaleDateString()}`})]}),e.jsx(L,{variant:"outline",children:s==="ar"?"نشط":"Active"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:T.map(n=>{k(n);const d=N===n.id,o=P(n);return e.jsx(x,{className:`flex flex-col h-full cursor-pointer transition-all hover:shadow-lg ${d?"ring-2 ring-primary border-primary":"hover:border-primary/50"}`,onClick:()=>c(n.id),children:e.jsxs(h,{className:"p-6 flex flex-col h-full",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("h4",{className:`text-lg font-semibold mb-1 ${s==="ar"?"font-arabic":""}`,children:w(n)}),e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[n.is_current_lifetime?e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:`text-2xl font-bold ${s==="ar"?"font-arabic":""}`,children:n.price===0?s==="ar"?"مجاني":"Free":`KD ${n.price}`}),e.jsx(L,{variant:"outline",className:"mt-1 text-xs",children:s==="ar"?"لا يوجد خصم للخطط الدائمة":"No discount for lifetime plans"})]}):n.discounted_price!==void 0&&n.discounted_price<n.price?e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:`text-2xl font-bold text-green-600 ${s==="ar"?"font-arabic":""}`,children:["KD ",n.discounted_price]}),e.jsxs("span",{className:`text-lg line-through text-muted-foreground ${s==="ar"?"font-arabic":""}`,children:["KD ",n.price]})]}),e.jsx(L,{variant:"destructive",className:"mt-1",children:s==="ar"?`وفر KD ${n.discount_amount}`:`Save KD ${n.discount_amount}`})]}):e.jsx("span",{className:`text-2xl font-bold ${s==="ar"?"font-arabic":""}`,children:n.price===0?s==="ar"?"مجاني":"Free":`KD ${n.price}`}),n.price>0&&e.jsx("span",{className:`text-sm text-muted-foreground ${s==="ar"?"font-arabic":""}`,children:n.is_lifetime?s==="ar"?"مدى الحياة":"Lifetime":`/${n.months_count} ${s==="ar"?"شهر":"months"}`})]}),n.price>0&&e.jsx(L,{variant:"secondary",className:"mb-4",children:s==="ar"?"مدفوع":"Paid"})]}),o.length>0&&e.jsx("ul",{className:"space-y-2 flex-1",children:o.map((j,$)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(Z,{className:"h-4 w-4 text-green-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:`text-sm ${s==="ar"?"font-arabic":""}`,children:j.trim()})]},$))}),e.jsx(_,{className:`w-full mt-4 ${d?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-primary hover:text-primary-foreground"}`,variant:d?"default":"outline",children:d?s==="ar"?"محدد":"Selected":s==="ar"?"اختر هذه الخطة":"Select This Plan"})]})},n.id)})})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsx("p",{className:`text-sm text-muted-foreground ${s==="ar"?"font-arabic":""}`,children:s==="ar"?"سيتم حساب الخصم بناءً على الأيام المتبقية في اشتراكك الحالي":"Discount will be calculated based on remaining days in your current subscription"})})]})};export{Ie as H,Ae as P,Le as S,J as T,Ne as Z};
