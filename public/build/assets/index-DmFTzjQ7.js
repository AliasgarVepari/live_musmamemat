import{r as c,j as e,H as D,L as d,a as m}from"./app-CGryBRXP.js";import{C as x,a as h,b as p,c as u,d as P}from"./card-B4aMH3hL.js";import{B as f}from"./badge-D1NyOr1w.js";import{B as r}from"./button-SNj-nWIH.js";import{I as _}from"./input-C63PEyT1.js";import{A as T,D as j}from"./app-layout-BfBZgUJI.js";import{E as L}from"./error-dialog-BgBN_rRe.js";import{P as g}from"./plus-DH2MAJUd.js";import{S as A}from"./search-CZ5XVuN1.js";import{a as E,T as k}from"./toggle-right-BpYdfS_L.js";import{S as F}from"./square-pen-Cz6jZ9Cm.js";import{T as I}from"./trash-2-RgY1TXCH.js";import"./index-CkMd_aJy.js";import"./index-CXjHsVTM.js";import"./chevron-right-D8snHXB_.js";import"./index-B5axZl32.js";import"./index-DW9AIAM8.js";import"./base-layout-BCguWz8i.js";/* empty css            */import"./use-forced-theme-DwRRO29i.js";import"./settings-Bok75KGb.js";import"./logo-DB6pQEXk.js";import"./map-pin-CMEq9zr5.js";import"./crown-z-HgkuGJ.js";const M=[{title:"Master Module",href:"/admin/master"},{title:"Price Types",href:"/admin/price-types"}];function oe({priceTypes:v,filters:N}){const[i,b]=c.useState(""),[a,y]=c.useState(N?.status||"all"),[l,n]=c.useState({open:!1,title:"",message:""}),w=s=>{m.patch(`/admin/price-types/${s}/toggle`,{},{preserveState:!0,onError:t=>{n({open:!0,title:"Error",message:Object.values(t).flat().join(", ")})}})},C=s=>{confirm("Are you sure you want to delete this price type?")&&m.delete(`/admin/price-types/${s}`,{onError:t=>{n({open:!0,title:"Cannot Delete Price Type",message:Object.values(t).flat().join(", ")})}})},o=(v?.data||[]).filter(s=>{const t=s.name_en.toLowerCase().includes(i.toLowerCase())||s.name_ar.toLowerCase().includes(i.toLowerCase()),S=a==="all"||a==="active"&&s.is_active||a==="inactive"&&!s.is_active;return t&&S});return e.jsxs(T,{breadcrumbs:M,children:[e.jsxs(e.Fragment,{children:[e.jsx(D,{title:"Price Types Management"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 overflow-x-auto rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Price Types"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage price type options (Fixed, Negotiable, etc.)"})]}),e.jsx(d,{href:"/admin/price-types/create",children:e.jsxs(r,{children:[e.jsx(g,{className:"h-4 w-4 mr-2"}),"Add Price Type"]})})]}),e.jsxs(x,{children:[e.jsx(h,{children:e.jsx(p,{className:"text-lg",children:"Filters"})}),e.jsx(u,{children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx(A,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(_,{placeholder:"Search price types...",value:i,onChange:s=>b(s.target.value),className:"pl-10"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Status"}),e.jsxs("select",{value:a,onChange:s=>y(s.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[e.jsx("option",{value:"all",children:"All statuses"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]})]})})]}),e.jsxs(x,{children:[e.jsxs(h,{children:[e.jsxs(p,{children:["Price Types (",o.length,")"]}),e.jsx(P,{children:"Manage price type options for ads"})]}),e.jsx(u,{children:o.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(j,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No price types found"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:i||a?"Try adjusting your filters to see more results.":"Get started by adding your first price type."}),e.jsx(d,{href:"/admin/price-types/create",children:e.jsxs(r,{children:[e.jsx(g,{className:"h-4 w-4 mr-2"}),"Add Price Type"]})})]}):e.jsx("div",{className:"space-y-4",children:o.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"text-2xl",children:e.jsx(j,{className:"h-6 w-6 text-orange-500"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h3",{className:"font-semibold",children:s.name_en}),e.jsxs("span",{className:"text-muted-foreground",children:["(",s.name_ar,")"]}),s.is_active?e.jsx(f,{variant:"default",className:"bg-green-100 text-green-800",children:"Active"}):e.jsx(f,{variant:"secondary",children:"Inactive"})]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Created ",new Date(s.created_at).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(r,{variant:"ghost",size:"sm",onClick:()=>w(s.id),children:s.is_active?e.jsx(E,{className:"h-4 w-4 text-green-500"}):e.jsx(k,{className:"h-4 w-4 text-gray-400"})}),e.jsx(d,{href:`/admin/price-types/${s.id}/edit`,children:e.jsx(r,{variant:"ghost",size:"sm",children:e.jsx(F,{className:"h-4 w-4"})})}),e.jsx(r,{variant:"ghost",size:"sm",onClick:()=>C(s.id),className:"text-red-600 hover:text-red-800",children:e.jsx(I,{className:"h-4 w-4"})})]})]},s.id))})})]})]})]}),e.jsx(L,{open:l.open,onOpenChange:s=>n(t=>({...t,open:s})),title:l.title,message:l.message})]})}export{oe as default};
