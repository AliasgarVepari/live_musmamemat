import{d as q,r as i,a as z,b as x,j as e,H as B,L as u}from"./app-DNu21ahX.js";import{B as j}from"./badge-CdJJduBr.js";import{B as o}from"./button-Bu_Ta-nG.js";import{C as v,a as N,b as S,c as k,d as H}from"./card-CEZpAnAh.js";import{C as $}from"./confirmation-dialog-Cuqm6sgJ.js";import{I as R}from"./input-qH10xEEZ.js";import{S as C,a as b,b as L,c as y,d as n}from"./select-159EuEqx.js";import{A as V,L as O}from"./app-layout-5d6DIBN2.js";import{P as w}from"./plus-PFq18DL3.js";import{S as G}from"./search-DpPktiVp.js";import{a as K,T as U}from"./toggle-right-9MKkOTNT.js";import{S as J}from"./square-pen-B8UMcXh_.js";import{T as Q}from"./trash-2-B48jLYzc.js";import"./index-D5ZxcEdC.js";import"./dialog-BQNev3Sc.js";import"./index-ZzcBV2Nk.js";import"./index-C4phfbAm.js";import"./index-ba8ygcG2.js";import"./index-BdQq_4o_.js";import"./index-CUY71Lql.js";import"./check-D-SAUTTA.js";import"./chevron-right-6tSj1daj.js";import"./index-CVbk7vRz.js";import"./index-DW9AIAM8.js";import"./base-layout-C7kW4rgo.js";/* empty css            */import"./use-forced-theme-CVgMjc0-.js";import"./settings-BPDaWtSK.js";import"./logo-DB6pQEXk.js";import"./map-pin-DaSmelHS.js";import"./crown-D9I87jCT.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],X=q("ExternalLink",W),Y=[{title:"Master Module",href:"/admin/master"},{title:"Social Links",href:"/admin/social-links"}];function Me({socialLinks:T,filters:p,platforms:I}){const[c,M]=i.useState(""),[d,A]=i.useState(p.platform||"all"),[r,D]=i.useState(p.status||"all"),[m,f]=i.useState({open:!1,title:"",description:"",onConfirm:()=>{}}),{url:_}=z();i.useEffect(()=>{localStorage.getItem("admin-social-links-refresh")==="true"&&(localStorage.removeItem("admin-social-links-refresh"),setTimeout(()=>{x.reload({only:["socialLinks"]})},100))},[_]);const E=(s,t)=>{const l=document.querySelector(".error-dialog-overlay");l&&l.remove();const a=document.createElement("div");a.className="error-dialog-overlay",a.innerHTML=`
            <div class="error-dialog-content">
                <div class="error-dialog-header">
                    <div class="flex items-center">
                        <div class="flex-shrink-0">
                            <svg class="error-dialog-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z" />
                            </svg>
                        </div>
                        <div class="error-dialog-title">${s}</div>
                    </div>
                    <div class="error-dialog-message">${t}</div>
                </div>
                <div class="error-dialog-footer p-6 pt-0">
                    <button 
                        onclick="this.closest('.error-dialog-overlay').remove()"
                        class="error-dialog-button"
                    >
                        OK
                    </button>
                </div>
            </div>
        `,document.body.appendChild(a),setTimeout(()=>{a.parentNode&&a.parentNode.removeChild(a)},1e4)},P=s=>{x.patch(`/admin/social-links/${s}/toggle`,{},{onSuccess:()=>{localStorage.setItem("admin-social-links-refresh","true")},preserveState:!0,preserveScroll:!0})},F=s=>{f({open:!0,title:"Delete Social Link",description:"Are you sure you want to delete this social link?",onConfirm:()=>{x.delete(`/admin/social-links/${s}`,{onSuccess:()=>{localStorage.setItem("admin-social-links-refresh","true")},preserveScroll:!0,onError:t=>{const a=Object.values(t).flat().join(", ");E("Cannot Delete Social Link",a)}})}})},g=s=>({facebook:"📘",instagram:"📷",twitter:"🐦",youtube:"📺",linkedin:"💼",tiktok:"🎵",snapchat:"👻",whatsapp:"💬",telegram:"✈️"})[s.toLowerCase()]||"🔗",h=T.data.filter(s=>{const t=s.platform.toLowerCase().includes(c.toLowerCase())||s.url.toLowerCase().includes(c.toLowerCase()),l=d==="all"||s.platform===d,a=r==="all"||r==="active"&&s.is_active||r==="inactive"&&!s.is_active;return t&&l&&a});return e.jsxs(V,{breadcrumbs:Y,children:[e.jsxs(e.Fragment,{children:[e.jsx(B,{title:"Social Links Management"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 overflow-x-auto rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Social Links"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage social media links for users and admins"})]}),e.jsx(u,{href:"/admin/social-links/create",children:e.jsxs(o,{children:[e.jsx(w,{className:"mr-2 h-4 w-4"}),"Add Social Link"]})})]}),e.jsxs(v,{children:[e.jsx(N,{children:e.jsx(S,{className:"text-lg",children:"Filters"})}),e.jsx(k,{children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx(G,{className:"text-muted-foreground absolute left-3 top-3 h-4 w-4"}),e.jsx(R,{placeholder:"Search links...",value:c,onChange:s=>M(s.target.value),className:"pl-10"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Platform"}),e.jsxs(C,{value:d,onValueChange:A,children:[e.jsx(b,{children:e.jsx(L,{placeholder:"All platforms"})}),e.jsxs(y,{children:[e.jsx(n,{value:"all",children:"All platforms"}),I.map(s=>e.jsxs(n,{value:s,children:[g(s)," ",s.charAt(0).toUpperCase()+s.slice(1)]},s))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Status"}),e.jsxs(C,{value:r,onValueChange:D,children:[e.jsx(b,{children:e.jsx(L,{placeholder:"All statuses"})}),e.jsxs(y,{children:[e.jsx(n,{value:"all",children:"All statuses"}),e.jsx(n,{value:"active",children:"Active"}),e.jsx(n,{value:"inactive",children:"Inactive"})]})]})]})]})})]}),e.jsxs(v,{children:[e.jsxs(N,{children:[e.jsxs(S,{children:["Social Links (",h.length,")"]}),e.jsx(H,{children:"Manage social media links for users and administrators"})]}),e.jsx(k,{children:h.length===0?e.jsxs("div",{className:"py-8 text-center",children:[e.jsx(O,{className:"text-muted-foreground mx-auto mb-4 h-12 w-12"}),e.jsx("h3",{className:"mb-2 text-lg font-semibold",children:"No social links found"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:c||d||r?"Try adjusting your filters to see more results.":"Get started by adding your first social link."}),e.jsx(u,{href:"/admin/social-links/create",children:e.jsxs(o,{children:[e.jsx(w,{className:"mr-2 h-4 w-4"}),"Add Social Link"]})})]}):e.jsx("div",{className:"space-y-4",children:h.map(s=>e.jsxs("div",{className:"hover:bg-muted/50 flex items-center justify-between rounded-lg border p-4 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"text-2xl",children:g(s.platform)}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h3",{className:"font-semibold capitalize",children:s.platform}),s.is_active?e.jsx(j,{variant:"default",className:"bg-green-100 text-green-800",children:"Active"}):e.jsx(j,{variant:"secondary",children:"Inactive"})]}),e.jsx("div",{className:"mt-1 flex items-center space-x-2",children:e.jsxs("a",{href:s.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-sm text-blue-600 hover:text-blue-800",children:[s.url,e.jsx(X,{className:"ml-1 h-3 w-3"})]})})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(o,{variant:"ghost",size:"sm",onClick:()=>P(s.id),children:s.is_active?e.jsx(K,{className:"h-4 w-4 text-green-500"}):e.jsx(U,{className:"h-4 w-4 text-gray-400"})}),e.jsx(u,{href:`/admin/social-links/${s.id}/edit`,children:e.jsx(o,{variant:"ghost",size:"sm",children:e.jsx(J,{className:"h-4 w-4"})})}),e.jsx(o,{variant:"ghost",size:"sm",onClick:()=>F(s.id),className:"text-red-600 hover:text-red-800",children:e.jsx(Q,{className:"h-4 w-4"})})]})]},s.id))})})]})]})]}),e.jsx($,{open:m.open,onOpenChange:s=>f(t=>({...t,open:s})),title:m.title,description:m.description,onConfirm:m.onConfirm,confirmText:"Delete",cancelText:"Cancel"})]})}export{Me as default};
